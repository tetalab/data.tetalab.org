(function(a,b,c){"use strict";var d=c(a),e=c(b),f=c.extend,g=c.isFunction,h=[].slice,i=Math.max,j=Math.min,k=Math.round,l=function(a,b){return typeof a===b},m=function(a,b){return a instanceof b},n=function(a){return a&&a.nodeType},o=function(a){return n(a)?a:m(a,c)?a[0]:undefined},p=function(a,b,d){return c.each(a,function(a,c){d=b.call(c,d,a,c)}),d},q=function(){var a={},b=1;return function(c){return c?(a[c]||(a[c]=b,b+=1),a[c]):0}}(),r=function(a,b,c){var d,e,f;if(a===b)return!0;if(!a||!b||a.constructor!==b.constructor)return!1;for(d=0,e=c.length;d<e;d+=1){f=c[d];if(a[f]&&g(a[f].equals)&&!a[f].equals(b[f]))return!1;if(a[f]!==b[f])return!1}return!0},s=function(a,b,c,d){this.left=k(a),this.top=k(b),this.width=k(c),this.height=k(d),this.right=this.left+this.width,this.bottom=this.top+this.height};f(s.prototype,{equals:function(a){return r(this,a,["left","top","width","height"])},area:function(){return this.width*this.height},relativeTo:function(a){return new s(this.left-a.left,this.top-a.top,this.width,this.height)},intersection:function(a){if(!m(a,s))return null;var b=i(this.left,a.left),c=j(this.right,a.right),d=i(this.top,a.top),e=j(this.bottom,a.bottom),f=c-b,g=e-d;return f>=0&&g>=0?new s(b,d,f,g):null},envelope:function(a){if(!m(a,s))return this;var b=j(this.left,a.left),c=i(this.right,a.right),d=j(this.top,a.top),e=i(this.bottom,a.bottom),f=c-b,g=e-d;return new s(b,d,f,g)}}),f(s,{ofContent:function(c,d){return!c||c===b||c===a?new s(0,0,e.width(),e.height()):d?new s(0,0,c.scrollWidth,c.scrollHeight):new s(c.offsetLeft-c.scrollLeft,c.offsetTop-c.scrollTop,c.scrollWidth,c.scrollHeight)},ofViewport:function(c,e){return!c||c===b||c===a?new s(d.scrollLeft(),d.scrollTop(),d.width(),d.height()):e?new s(c.scrollLeft,c.scrollTop,c.clientWidth,c.clientHeight):new s(c.offsetLeft,c.offsetTop,c.clientWidth,c.clientHeight)},ofElement:function(a){var b=c(a);if(!b.is(":visible"))return null;var d=b.offset();return new s(d.left,d.top,b.outerWidth(),b.outerHeight())}});var t=function(a,b,c,d){this.visible=a||0,this.viewport=b||0,this.possible=c||0,this.rects=d&&f({},d)||null};f(t.prototype,{equals:function(a){return this.fracsEqual(a)&&this.rectsEqual(a)},fracsEqual:function(a){return r(this,a,["visible","viewport","possible"])},rectsEqual:function(a){return r(this.rects,a.rects,["document","element","viewport"])}}),f(t,{of:function(a,b){var c,d,e;return a=n(a)&&s.ofElement(a)||a,b=n(b)&&s.ofViewport(b)||b||s.ofViewport(),c=a.intersection(b),c?(d=c.area(),e=j(a.width,b.width)*j(a.height,b.height),new t(d/a.area(),d/b.area(),d/e,{document:c,element:c.relativeTo(a),viewport:c.relativeTo(b)})):new t}});var u=function(a,b){this.els=a,this.viewport=b},v=["width","height","left","right","top","bottom"],w=["possible","visible","viewport"],x=function(a,b,d){var e;return c.inArray(d,v)>=0?e=s.ofElement(a):c.inArray(d,w)>=0&&(e=t.of(a,b)),e?e[d]:0},y=function(a,b){return a.val-b.val},z=function(a,b){return b.val-a.val};f(u.prototype,{sorted:function(a,b){var d=this.viewport;return c.map(this.els,function(b){return{el:b,val:x(b,d,a)}}).sort(b?z:y)},best:function(a,b){return this.els.length?this.sorted(a,b)[0]:null}});var A=function(a){var b=s.ofContent(a,!0),c=s.ofViewport(a,!0),d=b.width-c.width,e=b.height-c.height;this.content=b,this.viewport=c,this.width=d<=0?null:c.left/d,this.height=e<=0?null:c.top/e,this.left=c.left,this.top=c.top,this.right=b.right-c.right,this.bottom=b.bottom-c.bottom};f(A.prototype,{equals:function(a){return r(this,a,["width","height","left","top","right","bottom","content","viewport"])}});var B=function(b){this.el=b||a};f(B.prototype,{equals:function(a){return r(this,a,["el"])},scrollState:function(){return new A(this.el)},scrollTo:function(b,d,e){var f=this.el===a?c("html,body"):c(this.el);b=b||0,d=d||0,e=isNaN(e)?1e3:e,f.stop(!0).animate({scrollLeft:b,scrollTop:d},e)},scroll:function(b,e,f){var g=this.el===a?d:c(this.el);b=b||0,e=e||0,this.scrollTo(g.scrollLeft()+b,g.scrollTop()+e,f)},scrollToRect:function(a,b,c,d){b=b||0,c=c||0,this.scrollTo(a.left-b,a.top-c,d)},scrollToElement:function(a,b,c,d){var e=s.ofElement(a).relativeTo(s.ofContent(this.el));this.scrollToRect(e,b,c,d)}});var C={init:function(){this.callbacks=c.Callbacks("memory unique"),this.currVal=null,this.prevVal=null,this.checkProxy=c.proxy(this.check,this),this.autoCheck()},bind:function(a){this.callbacks.add(a)},unbind:function(a){a?this.callbacks.remove(a):this.callbacks.empty()},trigger:function(){this.callbacks.fireWith(this.context,[this.currVal,this.prevVal])},check:function(a){var b=this.updatedValue(a);return b===undefined?!1:(this.prevVal=this.currVal,this.currVal=b,this.trigger(),!0)},$autoTarget:d,autoEvents:"load resize scroll",autoCheck:function(a){this.$autoTarget[a===!1?"off":"on"](this.autoEvents,this.checkProxy)}},D=function(a,b){this.context=a,this.viewport=b,this.init()};f(D.prototype,C,{updatedValue:function(){var a=t.of(this.context,this.viewport);if(!this.currVal||!this.currVal.equals(a))return a}});var E=function(a,b,c,d){this.context=new u(a,b),this.property=c,this.descending=d,this.init()};f(E.prototype,C,{updatedValue:function(){var a=this.context.best(this.property,this.descending);if(a){a=a.val>0?a.el:null;if(this.currVal!==a)return a}}});var F=function(d){!d||d===a||d===b?this.context=a:(this.context=d,this.$autoTarget=c(d)),this.init()};f(F.prototype,C,{updatedValue:function(){var a=new A(this.context);if(!this.currVal||!this.currVal.equals(a))return a}});var G=function(a,b){var d=f({},b),e=function(b,d,e,f){e=g(e)?e.apply(b,d):e;if(g(f[e]))return f[e].apply(b,d);c.error('Method "'+e+'" does not exist on jQuery.'+a)},i=function(){return e(this,h.call(arguments),d.defaultStatic,i)},j=function(a){return g(j[a])?j[a].apply(this,h.call(arguments,1)):e(this,h.call(arguments),d.defaultMethod,j)},k=function(a){a&&(f(i,a.statics),f(j,a.methods)),i.modplug=k};k.prev={statics:c[a],methods:c.fn[a]},k(b),c[a]=i,c.fn[a]=j},H="fracs";G(H,{statics:{version:"0.11",Rect:s,Fractions:t,Group:u,ScrollState:A,Viewport:B,FracsCallbacks:D,GroupCallbacks:E,ScrollStateCallbacks:F,fracs:function(a,b){return t.of(a,b)}},methods:{content:function(a){return this.length?s.ofContent(this[0],a):null},envelope:function(){return p(this,function(a){var b=s.ofElement(this);return a?a.envelope(b):b})},fracs:function(a,b,d){l(a,"string")||(d=b,b=a,a=null),g(b)||(d=b,b=null),d=o(d);var e=H+".fracs."+q(d);return a==="unbind"?this.each(function(){var a=c(this).data(e);a&&a.unbind(b)}):a==="check"?this.each(function(){var a=c(this).data(e);a&&a.check()}):g(b)?this.each(function(){var a=c(this),f=a.data(e);f||(f=new D(this,d),a.data(e,f)),f.bind(b)}):this.length?t.of(this[0],d):null},intersection:function(){return p(this,function(a){var b=s.ofElement(this);return a?a.intersection(b):b})},max:function(a,b,c){return g(b)||(c=b,b=null),c=o(c),b?((new E(this,c,a,!0)).bind(b),this):this.pushStack((new u(this,c)).best(a,!0).el)},min:function(a,b,c){return g(b)||(c=b,b=null),c=o(c),b?((new E(this,c,a)).bind(b),this):this.pushStack((new u(this,c)).best(a).el)},rect:function(){return this.length?s.ofElement(this[0]):null},scrollState:function(a,b){var d=H+".scrollState";return l(a,"string")||(b=a,a=null),a==="unbind"?this.each(function(){var a=c(this).data(d);a&&a.unbind(b)}):a==="check"?this.each(function(){var a=c(this).data(d);a&&a.check()}):g(b)?this.each(function(){var a=c(this),e=a.data(d);e||(e=new F(this),a.data(d,e)),e.bind(b)}):this.length?new A(this[0]):null},scroll:function(a,b,c){return this.each(function(){(new B(this)).scroll(a,b,c)})},scrollTo:function(a,b,d,e){return c.isNumeric(a)&&(e=d,d=b,b=a,a=null),a=o(a),this.each(function(){a?(new B(this)).scrollToElement(a,b,d,e):(new B(this)).scrollTo(b,d,e)})},scrollToThis:function(a,b,c,d){return d=new B(o(d)),d.scrollToElement(this[0],a,b,c),this},softLink:function(a,b,d,e){return e=new B(o(e)),this.filter("a[href^=#]").each(function(){var f=c(this);f.on("click",function(){e.scrollToElement(c(f.attr("href"))[0],a,b,d)})})},sort:function(a,b,d){return l(b,"boolean")||(d=b,b=null),d=o(d),this.pushStack(c.map((new u(this,d)).sorted(a,!b),function(a){return a.el}))},viewport:function(a){return this.length?s.ofViewport(this[0],a):null}},defaultStatic:"fracs",defaultMethod:"fracs"})})(window,document,jQuery),function(a){function d(b){var c=b||window.event,d=[].slice.call(arguments,1),e=0,f=!0,g=0,h=0;return b=a.event.fix(c),b.type="mousewheel",c.wheelDelta&&(e=c.wheelDelta/120),c.detail&&(e=-c.detail/3),h=e,c.axis!==undefined&&c.axis===c.HORIZONTAL_AXIS&&(h=0,g=-1*e),c.wheelDeltaY!==undefined&&(h=c.wheelDeltaY/120),c.wheelDeltaX!==undefined&&(g=-1*c.wheelDeltaX/120),d.unshift(b,e,g,h),(a.event.dispatch||a.event.handle).apply(this,d)}var b=["DOMMouseScroll","mousewheel"];if(a.event.fixHooks)for(var c=b.length;c;)a.event.fixHooks[b[--c]]=a.event.mouseHooks;a.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var a=b.length;a;)this.addEventListener(b[--a],d,!1);else this.onmousewheel=d},teardown:function(){if(this.removeEventListener)for(var a=b.length;a;)this.removeEventListener(b[--a],d,!1);else this.onmousewheel=null}},a.fn.extend({mousewheel:function(a){return a?this.bind("mousewheel",a):this.trigger("mousewheel")},unmousewheel:function(a){return this.unbind("mousewheel",a)}})}(jQuery),function(a){"use strict";var b=function(){function g(a,b){if(typeof a.length=="undefined")throw new Error(a.length+"/"+b);var c=function(){var c=0;while(c<a.length&&a[c]==0)c+=1;var d=new Array(a.length-c+b);for(var e=0;e<a.length-c;e+=1)d[e]=a[e+c];return d}(),d={};return d.get=function(a){return c[a]},d.getLength=function(){return c.length},d.multiply=function(a){var b=new Array(d.getLength()+a.getLength()-1);for(var c=0;c<d.getLength();c+=1)for(var e=0;e<a.getLength();e+=1)b[c+e]^=f.gexp(f.glog(d.get(c))+f.glog(a.get(e)));return g(b,0)},d.mod=function(a){if(d.getLength()-a.getLength()<0)return d;var b=f.glog(d.get(0))-f.glog(a.get(0)),c=new Array(d.getLength());for(var e=0;e<d.getLength();e+=1)c[e]=d.get(e);for(var e=0;e<a.getLength();e+=1)c[e]^=f.gexp(f.glog(a.get(e))+b);return g(c,0).mod(a)},d}var a=function(a,b){var d=236,f=17,k=a,l=c[b],m=null,n=0,p=null,q=new Array,r={},s=function(a,b){n=k*4+17,m=function(a){var b=new Array(a);for(var c=0;c<a;c+=1){b[c]=new Array(a);for(var d=0;d<a;d+=1)b[c][d]=null}return b}(n),t(0,0),t(n-7,0),t(0,n-7),w(),v(),y(a,b),k>=7&&x(a),p==null&&(p=B(k,l,q)),z(p,b)},t=function(a,b){for(var c=-1;c<=7;c+=1){if(a+c<=-1||n<=a+c)continue;for(var d=-1;d<=7;d+=1){if(b+d<=-1||n<=b+d)continue;0<=c&&c<=6&&(d==0||d==6)||0<=d&&d<=6&&(c==0||c==6)||2<=c&&c<=4&&2<=d&&d<=4?m[a+c][b+d]=!0:m[a+c][b+d]=!1}}},u=function(){var a=0,b=0;for(var c=0;c<8;c+=1){s(!0,c);var d=e.getLostPoint(r);if(c==0||a>d)a=d,b=c}return b},v=function(){for(var a=8;a<n-8;a+=1){if(m[a][6]!=null)continue;m[a][6]=a%2==0}for(var b=8;b<n-8;b+=1){if(m[6][b]!=null)continue;m[6][b]=b%2==0}},w=function(){var a=e.getPatternPosition(k);for(var b=0;b<a.length;b+=1)for(var c=0;c<a.length;c+=1){var d=a[b],f=a[c];if(m[d][f]!=null)continue;for(var g=-2;g<=2;g+=1)for(var h=-2;h<=2;h+=1)g==-2||g==2||h==-2||h==2||g==0&&h==0?m[d+g][f+h]=!0:m[d+g][f+h]=!1}},x=function(a){var b=e.getBCHTypeNumber(k);for(var c=0;c<18;c+=1){var d=!a&&(b>>c&1)==1;m[Math.floor(c/3)][c%3+n-8-3]=d}for(var c=0;c<18;c+=1){var d=!a&&(b>>c&1)==1;m[c%3+n-8-3][Math.floor(c/3)]=d}},y=function(a,b){var c=l<<3|b,d=e.getBCHTypeInfo(c);for(var f=0;f<15;f+=1){var g=!a&&(d>>f&1)==1;f<6?m[f][8]=g:f<8?m[f+1][8]=g:m[n-15+f][8]=g}for(var f=0;f<15;f+=1){var g=!a&&(d>>f&1)==1;f<8?m[8][n-f-1]=g:f<9?m[8][15-f-1+1]=g:m[8][15-f-1]=g}m[n-8][8]=!a},z=function(a,b){var c=-1,d=n-1,f=7,g=0,h=e.getMaskFunction(b);for(var i=n-1;i>0;i-=2){i==6&&(i-=1);for(;;){for(var j=0;j<2;j+=1)if(m[d][i-j]==null){var k=!1;g<a.length&&(k=(a[g]>>>f&1)==1);var l=h(d,i-j);l&&(k=!k),m[d][i-j]=k,f-=1,f==-1&&(g+=1,f=7)}d+=c;if(d<0||n<=d){d-=c,c=-c;break}}}},A=function(a,b){var c=0,d=0,f=0,h=new Array(b.length),i=new Array(b.length);for(var j=0;j<b.length;j+=1){var k=b[j].dataCount,l=b[j].totalCount-k;d=Math.max(d,k),f=Math.max(f,l),h[j]=new Array(k);for(var m=0;m<h[j].length;m+=1)h[j][m]=255&a.getBuffer()[m+c];c+=k;var n=e.getErrorCorrectPolynomial(l),o=g(h[j],n.getLength()-1),p=o.mod(n);i[j]=new Array(n.getLength()-1);for(var m=0;m<i[j].length;m+=1){var q=m+p.getLength()-i[j].length;i[j][m]=q>=0?p.get(q):0}}var r=0;for(var m=0;m<b.length;m+=1)r+=b[m].totalCount;var s=new Array(r),t=0;for(var m=0;m<d;m+=1)for(var j=0;j<b.length;j+=1)m<h[j].length&&(s[t]=h[j][m],t+=1);for(var m=0;m<f;m+=1)for(var j=0;j<b.length;j+=1)m<i[j].length&&(s[t]=i[j][m],t+=1);return s},B=function(a,b,c){var g=h.getRSBlocks(a,b),j=i();for(var k=0;k<c.length;k+=1){var l=c[k];j.put(l.getMode(),4),j.put(l.getLength(),e.getLengthInBits(l.getMode(),a)),l.write(j)}var m=0;for(var k=0;k<g.length;k+=1)m+=g[k].dataCount;if(j.getLengthInBits()>m*8)throw new Error("code length overflow. ("+j.getLengthInBits()+">"+m*8+")");j.getLengthInBits()+4<=m*8&&j.put(0,4);while(j.getLengthInBits()%8!=0)j.putBit(!1);for(;;){if(j.getLengthInBits()>=m*8)break;j.put(d,8);if(j.getLengthInBits()>=m*8)break;j.put(f,8)}return A(j,g)};return r.addData=function(a){var b=j(a);q.push(b),p=null},r.isDark=function(a,b){if(a<0||n<=a||b<0||n<=b)throw new Error(a+","+b);return m[a][b]},r.getModuleCount=function(){return n},r.make=function(){s(!1,u())},r.createTableTag=function(a,b){a=a||2,b=typeof b=="undefined"?a*4:b;var c="";c+='<table style="',c+=" border-width: 0px; border-style: none;",c+=" border-collapse: collapse;",c+=" padding: 0px; margin: "+b+"px;",c+='">',c+="<tbody>";for(var d=0;d<r.getModuleCount();d+=1){c+="<tr>";for(var e=0;e<r.getModuleCount();e+=1)c+='<td style="',c+=" border-width: 0px; border-style: none;",c+=" border-collapse: collapse;",c+=" padding: 0px; margin: 0px;",c+=" width: "+a+"px;",c+=" height: "+a+"px;",c+=" background-color: ",c+=r.isDark(d,e)?"#000000":"#ffffff",c+=";",c+='"/>';c+="</tr>"}return c+="</tbody>",c+="</table>",c},r.createImgTag=function(a,b){a=a||2,b=typeof b=="undefined"?a*4:b;var c=r.getModuleCount()*a+b*2,d=b,e=c-b;return o(c,c,function(b,c){if(d<=b&&b<e&&d<=c&&c<e){var f=Math.floor((b-d)/a),g=Math.floor((c-d)/a);return r.isDark(g,f)?0:1}return 1})},r};a.stringToBytes=function(a){var b=new Array;for(var c=0;c<a.length;c+=1){var d=a.charCodeAt(c);b.push(d&255)}return b},a.createStringToBytes=function(a,b){var c=function(){var c=m(a),d=function(){var a=c.read();if(a==-1)throw new Error;return a},e=0,f={};for(;;){var g=c.read();if(g==-1)break;var h=d(),i=d(),j=d(),k=String.fromCharCode(g<<8|h),l=i<<8|j;f[k]=l,e+=1}if(e!=b)throw new Error(e+" != "+b);return f}(),d="?".charCodeAt(0);return function(a){var b=new Array;for(var e=0;e<a.length;e+=1){var f=a.charCodeAt(e);if(f<128)b.push(f);else{var g=c[a.charAt(e)];typeof g=="number"?(g&255)==g?b.push(g):(b.push(g>>>8),b.push(g&255)):b.push(d)}}return b}};var b={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},c={L:1,M:0,Q:3,H:2},d={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},e=function(){var a=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],c=1335,e=7973,h=21522,i={},j=function(a){var b=0;while(a!=0)b+=1,a>>>=1;return b};return i.getBCHTypeInfo=function(a){var b=a<<10;while(j(b)-j(c)>=0)b^=c<<j(b)-j(c);return(a<<10|b)^h},i.getBCHTypeNumber=function(a){var b=a<<12;while(j(b)-j(e)>=0)b^=e<<j(b)-j(e);return a<<12|b},i.getPatternPosition=function(b){return a[b-1]},i.getMaskFunction=function(a){switch(a){case d.PATTERN000:return function(a,b){return(a+b)%2==0};case d.PATTERN001:return function(a,b){return a%2==0};case d.PATTERN010:return function(a,b){return b%3==0};case d.PATTERN011:return function(a,b){return(a+b)%3==0};case d.PATTERN100:return function(a,b){return(Math.floor(a/2)+Math.floor(b/3))%2==0};case d.PATTERN101:return function(a,b){return a*b%2+a*b%3==0};case d.PATTERN110:return function(a,b){return(a*b%2+a*b%3)%2==0};case d.PATTERN111:return function(a,b){return(a*b%3+(a+b)%2)%2==0};default:throw new Error("bad maskPattern:"+a)}},i.getErrorCorrectPolynomial=function(a){var b=g([1],0);for(var c=0;c<a;c+=1)b=b.multiply(g([1,f.gexp(c)],0));return b},i.getLengthInBits=function(a,c){if(1<=c&&c<10)switch(a){case b.MODE_NUMBER:return 10;case b.MODE_ALPHA_NUM:return 9;case b.MODE_8BIT_BYTE:return 8;case b.MODE_KANJI:return 8;default:throw new Error("mode:"+a)}else if(c<27)switch(a){case b.MODE_NUMBER:return 12;case b.MODE_ALPHA_NUM:return 11;case b.MODE_8BIT_BYTE:return 16;case b.MODE_KANJI:return 10;default:throw new Error("mode:"+a)}else{if(!(c<41))throw new Error("type:"+c);switch(a){case b.MODE_NUMBER:return 14;case b.MODE_ALPHA_NUM:return 13;case b.MODE_8BIT_BYTE:return 16;case b.MODE_KANJI:return 12;default:throw new Error("mode:"+a)}}},i.getLostPoint=function(a){var b=a.getModuleCount(),c=0;for(var d=0;d<b;d+=1)for(var e=0;e<b;e+=1){var f=0,g=a.isDark(d,e);for(var h=-1;h<=1;h+=1){if(d+h<0||b<=d+h)continue;for(var i=-1;i<=1;i+=1){if(e+i<0||b<=e+i)continue;if(h==0&&i==0)continue;g==a.isDark(d+h,e+i)&&(f+=1)}}f>5&&(c+=3+f-5)}for(var d=0;d<b-1;d+=1)for(var e=0;e<b-1;e+=1){var j=0;a.isDark(d,e)&&(j+=1),a.isDark(d+1,e)&&(j+=1),a.isDark(d,e+1)&&(j+=1),a.isDark(d+1,e+1)&&(j+=1);if(j==0||j==4)c+=3}for(var d=0;d<b;d+=1)for(var e=0;e<b-6;e+=1)a.isDark(d,e)&&!a.isDark(d,e+1)&&a.isDark(d,e+2)&&a.isDark(d,e+3)&&a.isDark(d,e+4)&&!a.isDark(d,e+5)&&a.isDark(d,e+6)&&(c+=40);for(var e=0;e<b;e+=1)for(var d=0;d<b-6;d+=1)a.isDark(d,e)&&!a.isDark(d+1,e)&&a.isDark(d+2,e)&&a.isDark(d+3,e)&&a.isDark(d+4,e)&&!a.isDark(d+5,e)&&a.isDark(d+6,e)&&(c+=40);var k=0;for(var e=0;e<b;e+=1)for(var d=0;d<b;d+=1)a.isDark(d,e)&&(k+=1);var l=Math.abs(100*k/b/b-50)/5;return c+=l*10,c},i}(),f=function(){var a=new Array(256),b=new Array(256);for(var c=0;c<8;c+=1)a[c]=1<<c;for(var c=8;c<256;c+=1)a[c]=a[c-4]^a[c-5]^a[c-6]^a[c-8];for(var c=0;c<255;c+=1)b[a[c]]=c;var d={};return d.glog=function(a){if(a<1)throw new Error("glog("+a+")");return b[a]},d.gexp=function(b){while(b<0)b+=255;while(b>=256)b-=255;return a[b]},d}(),h=function(){var a=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16]],b=function(a,b){var c={};return c.totalCount=a,c.dataCount=b,c},d={},e=function(b,d){switch(d){case c.L:return a[(b-1)*4+0];case c.M:return a[(b-1)*4+1];case c.Q:return a[(b-1)*4+2];case c.H:return a[(b-1)*4+3];default:return undefined}};return d.getRSBlocks=function(a,c){var d=e(a,c);if(typeof d=="undefined")throw new Error("bad rs block @ typeNumber:"+a+"/errorCorrectLevel:"+c);var f=d.length/3,g=new Array;for(var h=0;h<f;h+=1){var i=d[h*3+0],j=d[h*3+1],k=d[h*3+2];for(var l=0;l<i;l+=1)g.push(b(j,k))}return g},d}(),i=function(){var a=new Array,b=0,c={};return c.getBuffer=function(){return a},c.get=function(b){var c=Math.floor(b/8);return(a[c]>>>7-b%8&1)==1},c.put=function(a,b){for(var d=0;d<b;d+=1)c.putBit((a>>>b-d-1&1)==1)},c.getLengthInBits=function(){return b},c.putBit=function(c){var d=Math.floor(b/8);a.length<=d&&a.push(0),c&&(a[d]|=128>>>b%8),b+=1},c},j=function(c){var d=b.MODE_8BIT_BYTE,e=c,f=a.stringToBytes(c),g={};return g.getMode=function(){return d},g.getLength=function(a){return f.length},g.write=function(a){for(var b=0;b<f.length;b+=1)a.put(f[b],8)},g},k=function(){var a=new Array,b={};return b.writeByte=function(b){a.push(b&255)},b.writeShort=function(a){b.writeByte(a),b.writeByte(a>>>8)},b.writeBytes=function(a,c,d){c=c||0,d=d||a.length;for(var e=0;e<d;e+=1)b.writeByte(a[e+c])},b.writeString=function(a){for(var c=0;c<a.length;c+=1)b.writeByte(a.charCodeAt(c))},b.toByteArray=function(){return a},b.toString=function(){var b="";b+="[";for(var c=0;c<a.length;c+=1)c>0&&(b+=","),b+=a[c];return b+="]",b},b},l=function(){var a=0,b=0,c=0,d="",e={},f=function(a){d+=String.fromCharCode(g(a&63))},g=function(a){if(!(a<0)){if(a<26)return 65+a;if(a<52)return 97+(a-26);if(a<62)return 48+(a-52);if(a==62)return 43;if(a==63)return 47}throw new Error("n:"+a)};return e.writeByte=function(d){a=a<<8|d&255,b+=8,c+=1;while(b>=6)f(a>>>b-6),b-=6},e.flush=function(){b>0&&(f(a<<6-b),a=0,b=0);if(c%3!=0){var e=3-c%3;for(var g=0;g<e;g+=1)d+="="}},e.toString=function(){return d},e},m=function(a){var b=a,c=0,d=0,e=0,f={};f.read=function(){while(e<8){if(c>=b.length){if(e==0)return-1;throw new Error("unexpected end of file./"+e)}var a=b.charAt(c);c+=1;if(a=="=")return e=0,-1;if(a.match(/^\s$/))continue;d=d<<6|g(a.charCodeAt(0)),e+=6}var f=d>>>e-8&255;return e-=8,f};var g=function(a){if(65<=a&&a<=90)return a-65;if(97<=a&&a<=122)return a-97+26;if(48<=a&&a<=57)return a-48+52;if(a==43)return 62;if(a==47)return 63;throw new Error("c:"+a)};return f},n=function(a,b){var c=a,d=b,e=new Array(a*b),f={};f.setPixel=function(a,b,d){e[b*c+a]=d},f.write=function(a){a.writeString("GIF87a"),a.writeShort(c),a.writeShort(d),a.writeByte(128),a.writeByte(0),a.writeByte(0),a.writeByte(0),a.writeByte(0),a.writeByte(0),a.writeByte(255),a.writeByte(255),a.writeByte(255),a.writeString(","),a.writeShort(0),a.writeShort(0),a.writeShort(c),a.writeShort(d),a.writeByte(0);var b=2,e=h(b);a.writeByte(b);var f=0;while(e.length-f>255)a.writeByte(255),a.writeBytes(e,f,255),f+=255;a.writeByte(e.length-f),a.writeBytes(e,f,e.length-f),a.writeByte(0),a.writeString(";")};var g=function(a){var b=a,c=0,d=0,e={};return e.write=function(a,e){if(a>>>e!=0)throw new Error("length over");while(c+e>=8)b.writeByte(255&(a<<c|d)),e-=8-c,a>>>=8-c,d=0,c=0;d=a<<c|d,c+=e},e.flush=function(){c>0&&b.writeByte(d)},e},h=function(a){var b=1<<a,c=(1<<a)+1,d=a+1,f=i();for(var h=0;h<b;h+=1)f.add(String.fromCharCode(h));f.add(String.fromCharCode(b)),f.add(String.fromCharCode(c));var j=k(),l=g(j);l.write(b,d);var m=0,n=String.fromCharCode(e[m]);m+=1;while(m<e.length){var o=String.fromCharCode(e[m]);m+=1,f.contains(n+o)?n+=o:(l.write(f.indexOf(n),d),f.size()<4095&&(f.size()==1<<d&&(d+=1),f.add(n+o)),n=o)}return l.write(f.indexOf(n),d),l.write(c,d),l.flush(),j.toByteArray()},i=function(){var a={},b=0,c={};return c.add=function(d){if(c.contains(d))throw new Error("dup key:"+d);a[d]=b,b+=1},c.size=function(){return b},c.indexOf=function(b){return a[b]},c.contains=function(b){return typeof a[b]!="undefined"},c};return f},o=function(a,b,c,d){var e=n(a,b);for(var f=0;f<b;f+=1)for(var g=0;g<a;g+=1)e.setPixel(g,f,c(g,f));var h=k();e.write(h);var i=l(),j=h.toByteArray();for(var m=0;m<j.length;m+=1)i.writeByte(j[m]);i.flush();var o="";return o+="<img",o+=' src="',o+="data:image/gif;base64,",o+=i,o+='"',o+=' width="',o+=a,o+='"',o+=' height="',o+=b,o+='"',d&&(o+=' alt="',o+=d,o+='"'),o+="/>",o};return a}(),c=function(a,c,d){var e=new b(a,c);return e.addData(d),e.make(),e},d=function(a){for(var b=2;b<=10;b+=1)try{return c(b,"L",a)}catch(d){}return null},e=function(b){var c=d(b.text),e=a("<canvas/>").attr("width",b.width).attr("height",b.height),f=e[0].getContext("2d");b.bgColor&&(f.fillStyle=b.bgColor,f.fillRect(0,0,b.width,b.height));if(c){var g=c.getModuleCount(),h=b.width/g,i=b.height/g,j,k;f.beginPath();for(j=0;j<g;j+=1)for(k=0;k<g;k+=1)c.isDark(j,k)&&f.rect(k*h,j*i,h,i);f.fillStyle=b.color,f.fill()}return e},f=function(b){var c=d(b.text),e=a("<div/>").css({position:"relative",left:0,top:0,padding:0,margin:0,width:b.width,height:b.height});b.bgColor&&e.css("background-color",b.bgColor);if(c){var f=c.getModuleCount(),g=Math.floor(b.width/f),h=Math.floor(b.height/f),i=Math.floor(.5*(b.width-g*f)),j=Math.floor(.5*(b.height-h*f)),k,l;for(k=0;k<f;k++)for(l=0;l<f;l++)c.isDark(k,l)&&a("<div/>").css({left:i+l*g,top:j+k*h}).appendTo(e);e.children().css({position:"absolute",padding:0,margin:0,width:g,height:h,"background-color":b.color})}return e},g={render:"canvas",width:256,height:256,color:"#000",bgColor:null,text:"no text"};a.fn.qrcode=function(b){var c=a.extend({},g,b);a(this).append(c.render==="canvas"?e(c):f(c))}}(jQuery),function(a,b){"use strict";var c=b(a),d=function(a){var d=b(a),e,f,g,h,i,j,k,l;(!d.css("position")||d.css("position")==="static")&&d.css("position","relative"),e=b("<div class='scrollbar' />"),f=b("<div class='drag' />").appendTo(e),d.wrapInner("<div class='wrapper'><div class='content' /></div>").append(e),g=d.find("> .wrapper"),h=g.find("> .content"),i=0,k=function(a){var b,c,i,l,m;j&&!a?(clearInterval(j),j=undefined):!j&&a&&(j=setInterval(function(){k(!0)},50)),g.css("height",d.height()),b=d.height(),c=h.outerHeight(),i=g.scrollTop(),l=i/c,m=Math.min(b/c,1),m<1?(e.fadeIn(50).css({height:d.innerHeight()+e.height()-e.outerHeight(!0)}),f.css({top:e.height()*l,height:e.height()*m})):e.fadeOut(50)},l=function(a){var b=(a.pageY-e.offset().top-i)/e.height();g.scrollTop(h.outerHeight()*b),k(),a.preventDefault()},d.on("mousewheel",function(a,b,c,d){g.scrollTop(g.scrollTop()-50*d),k(),a.stopPropagation(),a.preventDefault()}).on("scroll",k),d.get(0).updateScrollbar=k,g.css({"padding-right":e.outerWidth(!0),height:d.height(),overflow:"hidden"}),e.css({position:"absolute",top:0,right:0,overflow:"hidden",cursor:"pointer"}).mousedown(function(a){i=f.outerHeight()/2,l(a),e.addClass("dragOn"),c.bind("mousemove",l).one("mouseup",function(a){e.removeClass("dragOn"),c.unbind("mousemove",l),l(a),a.stopPropagation()}),a.preventDefault()}).each(function(){this.onselectstart=function(){return!1}}),f.css({position:"absolute",left:0,width:"100%"}).mousedown(function(a){i=a.pageY-f.offset().top,l(a),e.addClass("dragOn"),c.bind("mousemove",l).one("mouseup",function(a){e.removeClass("dragOn"),c.unbind("mousemove",l),l(a),a.stopPropagation()}),a.stopPropagation()}),k()};b.fn.scrollpanel=function(){return this.each(function(){d(this)})}}(window,jQuery),function(){function a(b,c,d){if(b===c)return b!==0||1/b==1/c;if(b==null||c==null)return b===c;b._chain&&(b=b._wrapped),c._chain&&(c=c._wrapped);if(b.isEqual&&v.isFunction(b.isEqual))return b.isEqual(c);if(c.isEqual&&v.isFunction(c.isEqual))return c.isEqual(b);var e=i.call(b);if(e!=i.call(c))return!1;switch(e){case"[object String]":return b==String(c);case"[object Number]":return b!=+b?c!=+c:b==0?1/b==1/c:b==+c;case"[object Date]":case"[object Boolean]":return+b==+c;case"[object RegExp]":return b.source==c.source&&b.global==c.global&&b.multiline==c.multiline&&b.ignoreCase==c.ignoreCase}if(typeof b!="object"||typeof c!="object")return!1;for(var f=d.length;f--;)if(d[f]==b)return!0;d.push(b);var f=0,g=!0;if(e=="[object Array]"){if(f=b.length,g=f==c.length)for(;f--;)if(!(g=f in b==f in c&&a(b[f],c[f],d)))break}else{if("constructor"in b!="constructor"in c||b.constructor!=c.constructor)return!1;for(var h in b)if(v.has(b,h)&&(f++,!(g=v.has(c,h)&&a(b[h],c[h],d))))break;if(g){for(h in c)if(v.has(c,h)&&!(f--))break;g=!f}}return d.pop(),g}var b=this,c=b._,d={},e=Array.prototype,f=Object.prototype,g=e.slice,h=e.unshift,i=f.toString,j=f.hasOwnProperty,k=e.forEach,l=e.map,m=e.reduce,n=e.reduceRight,o=e.filter,p=e.every,q=e.some,r=e.indexOf,s=e.lastIndexOf,f=Array.isArray,t=Object.keys,u=Function.prototype.bind,v=function(a){return new C(a)};typeof exports!="undefined"?(typeof module!="undefined"&&module.exports&&(exports=module.exports=v),exports._=v):b._=v,v.VERSION="1.3.1";var w=v.each=v.forEach=function(a,b,c){if(a!=null)if(k&&a.forEach===k)a.forEach(b,c);else if(a.length===+a.length){for(var e=0,f=a.length;e<f;e++)if(e in a&&b.call(c,a[e],e,a)===d)break}else for(e in a)if(v.has(a,e)&&b.call(c,a[e],e,a)===d)break};v.map=v.collect=function(a,b,c){var d=[];return a==null?d:l&&a.map===l?a.map(b,c):(w(a,function(a,e,f){d[d.length]=b.call(c,a,e,f)}),a.length===+a.length&&(d.length=a.length),d)},v.reduce=v.foldl=v.inject=function(a,b,c,d){var e=arguments.length>2;a==null&&(a=[]);if(m&&a.reduce===m)return d&&(b=v.bind(b,d)),e?a.reduce(b,c):a.reduce(b);w(a,function(a,f,g){e?c=b.call(d,c,a,f,g):(c=a,e=!0)});if(!e)throw new TypeError("Reduce of empty array with no initial value");return c},v.reduceRight=v.foldr=function(a,b,c,d){var e=arguments.length>2;a==null&&(a=[]);if(n&&a.reduceRight===n)return d&&(b=v.bind(b,d)),e?a.reduceRight(b,c):a.reduceRight(b);var f=v.toArray(a).reverse();return d&&!e&&(b=v.bind(b,d)),e?v.reduce(f,b,c,d):v.reduce(f,b)},v.find=v.detect=function(a,b,c){var d;return x(a,function(a,e,f){if(b.call(c,a,e,f))return d=a,!0}),d},v.filter=v.select=function(a,b,c){var d=[];return a==null?d:o&&a.filter===o?a.filter(b,c):(w(a,function(a,e,f){b.call(c,a,e,f)&&(d[d.length]=a)}),d)},v.reject=function(a,b,c){var d=[];return a==null?d:(w(a,function(a,e,f){b.call(c,a,e,f)||(d[d.length]=a)}),d)},v.every=v.all=function(a,b,c){var e=!0;return a==null?e:p&&a.every===p?a.every(b,c):(w(a,function(a,f,g){if(!(e=e&&b.call(c,a,f,g)))return d}),e)};var x=v.some=v.any=function(a,b,c){b||(b=v.identity);var e=!1;return a==null?e:q&&a.some===q?a.some(b,c):(w(a,function(a,f,g){if(e||(e=b.call(c,a,f,g)))return d}),!!e)};v.include=v.contains=function(a,b){var c=!1;return a==null?c:r&&a.indexOf===r?a.indexOf(b)!=-1:c=x(a,function(a){return a===b})},v.invoke=function(a,b){var c=g.call(arguments,2);return v.map(a,function(a){return(v.isFunction(b)?b||a:a[b]).apply(a,c)})},v.pluck=function(a,b){return v.map(a,function(a){return a[b]})},v.max=function(a,b,c){if(!b&&v.isArray(a))return Math.max.apply(Math,a);if(!b&&v.isEmpty(a))return-Infinity;var d={computed:-Infinity};return w(a,function(a,e,f){e=b?b.call(c,a,e,f):a,e>=d.computed&&(d={value:a,computed:e})}),d.value},v.min=function(a,b,c){if(!b&&v.isArray(a))return Math.min.apply(Math,a);if(!b&&v.isEmpty(a))return Infinity;var d={computed:Infinity};return w(a,function(a,e,f){e=b?b.call(c,a,e,f):a,e<d.computed&&(d={value:a,computed:e})}),d.value},v.shuffle=function(a){var b=[],c;return w(a,function(a,d){d==0?b[0]=a:(c=Math.floor(Math.random()*(d+1)),b[d]=b[c],b[c]=a)}),b},v.sortBy=function(a,b,c){return v.pluck(v.map(a,function(a,d,e){return{value:a,criteria:b.call(c,a,d,e)}}).sort(function(a,b){var c=a.criteria,d=b.criteria;return c<d?-1:c>d?1:0}),"value")},v.groupBy=function(a,b){var c={},d=v.isFunction(b)?b:function(a){return a[b]};return w(a,function(a,b){var e=d(a,b);(c[e]||(c[e]=[])).push(a)}),c},v.sortedIndex=function(a,b,c){c||(c=v.identity);for(var d=0,e=a.length;d<e;){var f=d+e>>1;c(a[f])<c(b)?d=f+1:e=f}return d},v.toArray=function(a){return a?a.toArray?a.toArray():v.isArray(a)?g.call(a):v.isArguments(a)?g.call(a):v.values(a):[]},v.size=function(a){return v.toArray(a).length},v.first=v.head=function(a,b,c){return b!=null&&!c?g.call(a,0,b):a[0]},v.initial=function(a,b,c){return g.call(a,0,a.length-(b==null||c?1:b))},v.last=function(a,b,c){return b!=null&&!c?g.call(a,Math.max(a.length-b,0)):a[a.length-1]},v.rest=v.tail=function(a,b,c){return g.call(a,b==null||c?1:b)},v.compact=function(a){return v.filter(a,function(a){return!!a})},v.flatten=function(a,b){return v.reduce(a,function(a,c){return v.isArray(c)?a.concat(b?c:v.flatten(c)):(a[a.length]=c,a)},[])},v.without=function(a){return v.difference(a,g.call(arguments,1))},v.uniq=v.unique=function(a,b,c){var c=c?v.map(a,c):a,d=[];return v.reduce(c,function(c,e,f){if(0==f||(b===!0?v.last(c)!=e:!v.include(c,e)))c[c.length]=e,d[d.length]=a[f];return c},[]),d},v.union=function(){return v.uniq(v.flatten(arguments,!0))},v.intersection=v.intersect=function(a){var b=g.call(arguments,1);return v.filter(v.uniq(a),function(a){return v.every(b,function(b){return v.indexOf(b,a)>=0})})},v.difference=function(a){var b=v.flatten(g.call(arguments,1));return v.filter(a,function(a){return!v.include(b,a)})},v.zip=function(){for(var a=g.call(arguments),b=v.max(v.pluck(a,"length")),c=Array(b),d=0;d<b;d++)c[d]=v.pluck(a,""+d);return c},v.indexOf=function(a,b,c){if(a==null)return-1;var d;if(c)return c=v.sortedIndex(a,b),a[c]===b?c:-1;if(r&&a.indexOf===r)return a.indexOf(b);for(c=0,d=a.length;c<d;c++)if(c in a&&a[c]===b)return c;return-1},v.lastIndexOf=function(a,b){if(a==null)return-1;if(s&&a.lastIndexOf===s)return a.lastIndexOf(b);for(var c=a.length;c--;)if(c in a&&a[c]===b)return c;return-1},v.range=function(a,b,c){arguments.length<=1&&(b=a||0,a=0);for(var c=arguments[2]||1,d=Math.max(Math.ceil((b-a)/c),0),e=0,f=Array(d);e<d;)f[e++]=a,a+=c;return f};var y=function(){};v.bind=function(a,b){var c,d;if(a.bind===u&&u)return u.apply(a,g.call(arguments,1));if(!v.isFunction(a))throw new TypeError;return d=g.call(arguments,2),c=function(){if(this instanceof c){y.prototype=a.prototype;var e=new y,f=a.apply(e,d.concat(g.call(arguments)));return Object(f)===f?f:e}return a.apply(b,d.concat(g.call(arguments)))}},v.bindAll=function(a){var b=g.call(arguments,1);return b.length==0&&(b=v.functions(a)),w(b,function(b){a[b]=v.bind(a[b],a)}),a},v.memoize=function(a,b){var c={};return b||(b=v.identity),function(){var d=b.apply(this,arguments);return v.has(c,d)?c[d]:c[d]=a.apply(this,arguments)}},v.delay=function(a,b){var c=g.call(arguments,2);return setTimeout(function(){return a.apply(a,c)},b)},v.defer=function(a){return v.delay.apply(v,[a,1].concat(g.call(arguments,1)))},v.throttle=function(a,b){var c,d,e,f,g,h=v.debounce(function(){g=f=!1},b);return function(){c=this,d=arguments;var i;e||(e=setTimeout(function(){e=null,g&&a.apply(c,d),h()},b)),f?g=!0:a.apply(c,d),h(),f=!0}},v.debounce=function(a,b){var c;return function(){var d=this,e=arguments;clearTimeout(c),c=setTimeout(function(){c=null,a.apply(d,e)},b)}},v.once=function(a){var b=!1,c;return function(){return b?c:(b=!0,c=a.apply(this,arguments))}},v.wrap=function(a,b){return function(){var c=[a].concat(g.call(arguments,0));return b.apply(this,c)}},v.compose=function(){var a=arguments;return function(){for(var b=arguments,c=a.length-1;c>=0;c--)b=[a[c].apply(this,b)];return b[0]}},v.after=function(a,b){return a<=0?b():function(){if(--a<1)return b.apply(this,arguments)}},v.keys=t||function(a){if(a!==Object(a))throw new TypeError("Invalid object");var b=[],c;for(c in a)v.has(a,c)&&(b[b.length]=c);return b},v.values=function(a){return v.map(a,v.identity)},v.functions=v.methods=function(a){var b=[],c;for(c in a)v.isFunction(a[c])&&b.push(c);return b.sort()},v.extend=function(a){return w(g.call(arguments,1),function(b){for(var c in b)a[c]=b[c]}),a},v.defaults=function(a){return w(g.call(arguments,1),function(b){for(var c in b)a[c]==null&&(a[c]=b[c])}),a},v.clone=function(a){return v.isObject(a)?v.isArray(a)?a.slice():v.extend({},a):a},v.tap=function(a,b){return b(a),a},v.isEqual=function(b,c){return a(b,c,[])},v.isEmpty=function(a){if(v.isArray(a)||v.isString(a))return a.length===0;for(var b in a)if(v.has(a,b))return!1;return!0},v.isElement=function(a){return!!a&&a.nodeType==1},v.isArray=f||function(a){return i.call(a)=="[object Array]"},v.isObject=function(a){return a===Object(a)},v.isArguments=function(a){return i.call(a)=="[object Arguments]"},v.isArguments(arguments)||(v.isArguments=function(a){return!!a&&!!v.has(a,"callee")}),v.isFunction=function(a){return i.call(a)=="[object Function]"},v.isString=function(a){return i.call(a)=="[object String]"},v.isNumber=function(a){return i.call(a)=="[object Number]"},v.isNaN=function(a){return a!==a},v.isBoolean=function(a){return a===!0||a===!1||i.call(a)=="[object Boolean]"},v.isDate=function(a){return i.call(a)=="[object Date]"},v.isRegExp=function(a){return i.call(a)=="[object RegExp]"},v.isNull=function(a){return a===null},v.isUndefined=function(a){return a===void 0},v.has=function(a,b){return j.call(a,b)},v.noConflict=function(){return b._=c,this},v.identity=function(a){return a},v.times=function(a,b,c){for(var d=0;d<a;d++)b.call(c,d)},v.escape=function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")},v.mixin=function(a){w(v.functions(a),function(b){E(b,v[b]=a[b])})};var z=0;v.uniqueId=function(a){var b=z++;return a?a+b:b},v.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var A=/.^/,B=function(a){return a.replace(/\\\\/g,"\\").replace(/\\'/g,"'")};v.template=function(a,b){var c=v.templateSettings,c="var __p=[],print=function(){__p.push.apply(__p,arguments);};with(obj||{}){__p.push('"+a.replace(/\\/g,"\\\\").replace(/'/g,"\\'").replace(c.escape||A,function(a,b){return"',_.escape("+B(b)+"),'"}).replace(c.interpolate||A,function(a,b){return"',"+B(b)+",'"}).replace(c.evaluate||A,function(a,b){return"');"+B(b).replace(/[\r\n\t]/g," ")+";__p.push('"}).replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/\t/g,"\\t")+"');}return __p.join('');",d=new Function("obj","_",c);return b?d(b,v):function(a){return d.call(this,a,v)}},v.chain=function(a){return v(a).chain()};var C=function(a){this._wrapped=a};v.prototype=C.prototype;var D=function(a,b){return b?v(a).chain():a},E=function(a,b){C.prototype[a]=function(){var a=g.call(arguments);return h.call(a,this._wrapped),D(b.apply(v,a),this._chain)}};v.mixin(v),w("pop,push,reverse,shift,sort,splice,unshift".split(","),function(a){var b=e[a];C.prototype[a]=function(){var c=this._wrapped;b.apply(c,arguments);var d=c.length;return(a=="shift"||a=="splice")&&d===0&&delete c[0],D(c,this._chain)}}),w(["concat","join","slice"],function(a){var b=e[a];C.prototype[a]=function(){return D(b.apply(this._wrapped,arguments),this._chain)}}),C.prototype.chain=function(){return this._chain=!0,this},C.prototype.value=function(){return this._wrapped}}.call(this),function(a,b){"use strict";var c=function(a){throw b+" exception: "+a};_||c(b+" depends on underscore");var d={},e=a[b],f=function(){return a[b]===d&&(a[b]=e),d},g={},h={},i=function(a){var b=this,c=[];if(_.isString(a)){var d=g[a];d?(_.each(d.deps,function(a){c=c.concat(i(a))}),c.push(d.id)):c.push(a)}else _.isArray(a)&&_.each(a,function(a){c=c.concat(i(a))});return _.uniq(c)},j=function(a){if(!a){var d={};return _.each(g,function(a,b){d[b]=j(b)}),d}try{return i(a)}catch(b){c('cyclic dependencies for ids "'+a+'"')}},k=function(a){var b=j(),c={},d="";return a?(_.each(g,function(a){var d=[];_.each(b,function(b,c){_.indexOf(b,a.id)>=0&&d.push(c)}),c[a.id]=d}),_.each(c,function(a,b){a.shift(),d+=(_.has(h,b)?"* ":"  ")+b+" <- [ "+a.join(", ")+" ]\n"})):_.each(b,function(a,b){a.pop(),d+=(_.has(h,b)?"* ":"  ")+b+" -> [ "+a.join(", ")+" ]\n"}),d},l=function(a,b,d){_.isFunction(b)&&(d=b,b=[]),_.isString(a)||c('id must be a string "'+a+'"'),_.isArray(b)||c('dependencies must be an array "'+b+'"'),_.isFunction(d)||c('constructor must be a function "'+d+'"'),g[a]&&c('id already defined "'+a+'"'),g[a]={id:a,deps:b,fn:d}},m=function(a){var b=_.map(g,function(a){return a.id});return _.isRegExp(a)?_.filter(b,function(b){return a.test(b)}):b},n=function(a){return _.isString(a)?!!g[a]:!!a},o=function(a){if(!_.isString(a))return a;if(_.has(h,a))return h[a];var b=g[a];b||c('id not defined "'+a+'"');var d=_.map(b.deps,function(a){return o(a)}),e=b.fn.apply(this,d);return h[a]=e,e};_.extend(d,{noConflict:f,log:k,define:l,require:o,getIds:m,isDefined:n}),a[b]=d}(this,"module"),function(a,b){var c=[].slice,d={},e=a.amplify={publish:function(a){var b=c.call(arguments,1),e,f,g,h=0,i;if(!d[a])return!0;e=d[a].slice();for(g=e.length;h<g;h++){f=e[h],i=f.callback.apply(f.context,b);if(i===!1)break}return i!==!1},subscribe:function(a,b,c,e){arguments.length===3&&typeof c=="number"&&(e=c,c=b,b=null),arguments.length===2&&(c=b,b=null),e=e||10;var f=0,g=a.split(/\s/),h=g.length,i;for(;f<h;f++){a=g[f],i=!1,d[a]||(d[a]=[]);var j=d[a].length-1,k={callback:c,context:b,priority:e};for(;j>=0;j--)if(d[a][j].priority<=e){d[a].splice(j+1,0,k),i=!0;break}i||d[a].unshift(k)}return c},unsubscribe:function(a,b){if(!!d[a]){var c=d[a].length,e=0;for(;e<c;e++)if(d[a][e].callback===b){d[a].splice(e,1);break}}}}}(this),function(a,b){function c(a,c){d.addType(a,function(f,g,h){var i,j,k,l,m=g,n=(new Date).getTime();if(!f){m={},l=[],k=0;try{f=c.length;while(f=c.key(k++))e.test(f)&&(j=JSON.parse(c.getItem(f)),j.expires&&j.expires<=n?l.push(f):m[f.replace(e,"")]=j.data);while(f=l.pop())c.removeItem(f)}catch(o){}return m}f="__amplify__"+f;if(g===b){i=c.getItem(f),j=i?JSON.parse(i):{expires:-1};if(!(j.expires&&j.expires<=n))return j.data;c.removeItem(f)}else if(g===null)c.removeItem(f);else{j=JSON.stringify({data:g,expires:h.expires?n+h.expires:null});try{c.setItem(f,j)}catch(o){d[a]();try{c.setItem(f,j)}catch(o){throw d.error()}}}return m})}var d=a.store=function(a,b,c,e){var e=d.type;return c&&c.type&&c.type in d.types&&(e=c.type),d.types[e](a,b,c||{})};d.types={},d.type=null,d.addType=function(a,b){d.type||(d.type=a),d.types[a]=b,d[a]=function(b,c,e){return e=e||{},e.type=a,d(b,c,e)}},d.error=function(){return"amplify.store quota exceeded"};var e=/^__amplify__/;for(var f in{localStorage:1,sessionStorage:1})try{window[f].getItem&&c(f,window[f])}catch(g){}if(window.globalStorage)try{c("globalStorage",window.globalStorage[window.location.hostname]),d.type==="sessionStorage"&&(d.type="globalStorage")}catch(g){}(function(){if(!d.types.localStorage){var a=document.createElement("div"),c="amplify";a.style.display="none",document.getElementsByTagName("head")[0].appendChild(a);try{a.addBehavior("#default#userdata"),a.load(c)}catch(e){a.parentNode.removeChild(a);return}d.addType("userData",function(e,f,g){a.load(c);var h,i,j,k,l,m=f,n=(new Date).getTime();if(!e){m={},l=[],k=0;while(h=a.XMLDocument.documentElement.attributes[k++])i=JSON.parse(h.value),i.expires&&i.expires<=n?l.push(h.name):m[h.name]=i.data;while(e=l.pop())a.removeAttribute(e);return a.save(c),m}e=e.replace(/[^-._0-9A-Za-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u37f-\u1fff\u200c-\u200d\u203f\u2040\u2070-\u218f]/g,"-");if(f===b){h=a.getAttribute(e),i=h?JSON.parse(h):{expires:-1};if(!(i.expires&&i.expires<=n))return i.data;a.removeAttribute(e)}else f===null?a.removeAttribute(e):(j=a.getAttribute(e),i=JSON.stringify({data:f,expires:g.expires?n+g.expires:null}),a.setAttribute(e,i));try{a.save(c)}catch(o){j===null?a.removeAttribute(e):a.setAttribute(e,j),d.userData();try{a.setAttribute(e,i),a.save(c)}catch(o){throw j===null?a.removeAttribute(e):a.setAttribute(e,j),d.error()}}return m})}})(),function(){function a(a){return a===b?b:JSON.parse(JSON.stringify(a))}var c={},e={};d.addType("memory",function(d,f,g){return d?f===b?a(c[d]):(e[d]&&(clearTimeout(e[d]),delete e[d]),f===null?(delete c[d],null):(c[d]=f,g.expires&&(e[d]=setTimeout(function(){delete c[d],delete e[d]},g.expires)),f)):a(c)})}()}(this.amplify=this.amplify||{}),function(a,b){function c(a){var b=!1;return setTimeout(function(){b=!0},1),function(){var c=this,d=arguments;b?a.apply(c,d):setTimeout(function(){a.apply(c,d)},1)}}function d(a){return{}.toString.call(a)==="[object Function]"}function e(){}a.request=function(b,f,g){var h=b||{};typeof h=="string"&&(d(f)&&(g=f,f={}),h={resourceId:b,data:f||{},success:g});var i={abort:e},j=a.request.resources[h.resourceId],k=h.success||e,l=h.error||e;h.success=c(function(b,c){c=c||"success",a.publish("request.success",h,b,c),a.publish("request.complete",h,b,c),k(b,c)}),h.error=c(function(b,c){c=c||"error",a.publish("request.error",h,b,c),a.publish("request.complete",h,b,c),l(b,c)});if(!j)throw h.resourceId?"amplify.request: unknown resourceId: "+h.resourceId:"amplify.request: no resourceId provided";if(!!a.publish("request.before",h))return a.request.resources[h.resourceId](h,i),i;h.error(null,"abort")},a.request.types={},a.request.resources={},a.request.define=function(b,c,d){if(typeof c=="string"){if(!(c in a.request.types))throw"amplify.request.define: unknown type: "+c;d.resourceId=b,a.request.resources[b]=a.request.types[c](d)}else a.request.resources[b]=c}}(amplify),function(a,b,c){var d=["status","statusText","responseText","responseXML","readyState"],e=/\{([^\}]+)\}/g;a.request.types.ajax=function(e){return e=b.extend({type:"GET"},e),function(f,g){function h(a,e){b.each(d,function(a,b){try{n[b]=i[b]}catch(c){}}),/OK$/.test(n.statusText)&&(n.statusText="success"),a===c&&(a=null),m&&(e="abort"),/timeout|error|abort/.test(e)?n.error(a,e):n.success(a,e),h=b.noop}var i,j=e.url,k=g.abort,l=b.extend(!0,{},e,{data:f.data}),m=!1,n={readyState:0,setRequestHeader:function(a,b){return i.setRequestHeader(a,b)},getAllResponseHeaders:function(){return i.getAllResponseHeaders()},getResponseHeader:function(a){return i.getResponseHeader(a)},overrideMimeType:function(a){return i.overrideMideType(a)},abort:function(){m=!0;try{i.abort()}catch(a){}h(null,"abort")},success:function(a,b){f.success(a,b)},error:function(a,b){f.error(a,b)}};a.publish("request.ajax.preprocess",e,f,l,n),b.extend(l,{success:function(a,b){h(a,b)},error:function(a,b){h(null,b)},beforeSend:function(b,c){i=b,l=c;var d=e.beforeSend?e.beforeSend.call(this,n,l):!0;return d&&a.publish("request.before.ajax",e,f,l,n)}}),b.ajax(l),g.abort=function(){n.abort(),k.call(this)}}},a.subscribe("request.ajax.preprocess",function(a,c,d){var f=[],g=d.data;typeof g!="string"&&(g=b.extend(!0,{},a.data,g),d.url=d.url.replace(e,function(a,b){if(b in g)return f.push(b),g[b]}),b.each(f,function(a,b){delete g[b]}),d.data=g)}),a.subscribe("request.ajax.preprocess",function(a,c,d){var e=d.data,f=a.dataMap;!!f&&typeof e!="string"&&(b.isFunction(f)?d.data=f(e):(b.each(a.dataMap,function(a,b){a in e&&(e[b]=e[a],delete e[a])}),d.data=e))});var f=a.request.cache={_key:function(a,b,c){function d(){return c.charCodeAt(f++)<<24|c.charCodeAt(f++)<<16|c.charCodeAt(f++)<<8|c.charCodeAt(f++)<<0}c=b+c;var e=c.length,f=0,g=d();while(f<e)g^=d();return"request-"+a+"-"+g},_default:function(){var a={};return function(b,c,d,e){var g=f._key(c.resourceId,d.url,d.data),h=b.cache;if(g in a)return e.success(a[g]),!1;var i=e.success;e.success=function(b){a[g]=b,typeof h=="number"&&setTimeout(function(){delete a[g]},h),i.apply(this,arguments)}}}()};a.store&&(b.each(a.store.types,function(b){f[b]=function(c,d,e,g){var h=f._key(d.resourceId,e.url,e.data),i=a.store[b](h);if(i)return e.success(i),!1;var j=g.success;g.success=function(d){a.store[b](h,d,{expires:c.cache.expires}),j.apply(this,arguments)}}}),f.persist=f[a.store.type]),a.subscribe("request.before.ajax",function(a){var b=a.cache;if(b)return b=b.type||b,f[b in f?b:"_default"].apply(this,arguments)}),a.request.decoders={jsend:function(a,b,c,d,e){a.status==="success"?d(a.data):a.status==="fail"?e(a.data,"fail"):a.status==="error"&&(delete a.status,e(a,"error"))}},a.subscribe("request.before.ajax",function(c,d,e,f){function g(a,b){j(a,b)}function h(a,b){i(a,b)}var i=f.success,j=f.error,k=b.isFunction(c.decoder)?c.decoder:c.decoder in a.request.decoders?a.request.decoders[c.decoder]:a.request.decoders._default;!k||(f.success=function(a,b){k(a,b,f,h,g)},f.error=function(a,b){k(a,b,f,h,g)})})}(amplify,jQuery),function(a,b){function c(a,b){this._d=a,this._isUTC=!!b}function d(a,b){var c=a+"";while(c.length<b)c="0"+c;return c}function e(b,c,d,e){var f=typeof c=="string",g=f?{}:c,h,i,j,k;return f&&e&&(g[c]=+e),h=(g.ms||g.milliseconds||0)+(g.s||g.seconds||0)*1e3+(g.m||g.minutes||0)*6e4+(g.h||g.hours||0)*36e5,i=(g.d||g.days||0)+(g.w||g.weeks||0)*7,j=(g.M||g.months||0)+(g.y||g.years||0)*12,h&&b.setTime(+b+h*d),i&&b.setDate(b.getDate()+i*d),j&&(k=b.getDate(),b.setDate(1),b.setMonth(b.getMonth()+j*d),b.setDate(Math.min((new a(b.getFullYear(),b.getMonth()+1,0)).getDate(),k))),b}function f(a){return Object.prototype.toString.call(a)==="[object Array]"}function g(b){return new a(b[0],b[1]||0,b[2]||1,b[3]||0,b[4]||0,b[5]||0,b[6]||0)}function h(b,c){function e(c){var r,s;switch(c){case"M":return f+1;case"Mo":return f+1+o(f+1);case"MM":return d(f+1,2);case"MMM":return p.monthsShort[f];case"MMMM":return p.months[f];case"D":return g;case"Do":return g+o(g);case"DD":return d(g,2);case"DDD":return r=new a(i,f,g),s=new a(i,0,1),~~((r-s)/864e5+1.5);case"DDDo":return r=e("DDD"),r+o(r);case"DDDD":return d(e("DDD"),3);case"d":return j;case"do":return j+o(j);case"ddd":return p.weekdaysShort[j];case"dddd":return p.weekdays[j];case"w":return r=new a(i,f,g-j+5),s=new a(r.getFullYear(),0,4),~~((r-s)/864e5/7+1.5);case"wo":return r=e("w"),r+o(r);case"ww":return d(e("w"),2);case"YY":return d(i%100,2);case"YYYY":return i;case"a":return k>11?q.pm:q.am;case"A":return k>11?q.PM:q.AM;case"H":return k;case"HH":return d(k,2);case"h":return k%12||12;case"hh":return d(k%12||12,2);case"m":return l;case"mm":return d(l,2);case"s":return m;case"ss":return d(m,2);case"zz":case"z":return(b._d.toString().match(y)||[""])[0].replace(x,"");case"Z":return(n<0?"-":"+")+d(~~(Math.abs(n)/60),2)+":"+d(~~(Math.abs(n)%60),2);case"ZZ":return(n<0?"-":"+")+d(~~(10*Math.abs(n)/6),4);case"L":case"LL":case"LLL":case"LLLL":case"LT":return h(b,p.longDateFormat[c]);default:return c.replace(/(^\[)|(\\)|\]$/g,"")}}var f=b.month(),g=b.date(),i=b.year(),j=b.day(),k=b.hours(),l=b.minutes(),m=b.seconds(),n=-b.zone(),o=p.ordinal,q=p.meridiem;return c.replace(w,e)}function i(b,c){function d(a,b){var c;switch(a){case"M":case"MM":e[1]=~~b-1;break;case"MMM":case"MMMM":for(c=0;c<12;c++)if(p.monthsParse[c].test(b)){e[1]=c;break}break;case"D":case"DD":case"DDD":case"DDDD":e[2]=~~b;break;case"YY":b=~~b,e[0]=b+(b>70?1900:2e3);break;case"YYYY":e[0]=~~Math.abs(b);break;case"a":case"A":n=b.toLowerCase()==="pm";break;case"H":case"HH":case"h":case"hh":e[3]=~~b;break;case"m":case"mm":e[4]=~~b;break;case"s":case"ss":e[5]=~~b;break;case"Z":case"ZZ":i=!0,c=(b||"").match(E),c&&c[1]&&(f=~~c[1]),c&&c[2]&&(h=~~c[2]),c&&c[0]==="+"&&(f=-f,h=-h)}}var e=[0,0,1,0,0,0,0],f=0,h=0,i=!1,j=b.match(A),k=c.match(z),l=Math.min(j.length,k.length),m,n;for(m=0;m<l;m++)d(k[m],j[m]);return n&&e[3]<12&&(e[3]+=12),n===!1&&e[3]===12&&(e[3]=0),e[3]+=f,e[4]+=h,i?new a(a.UTC.apply({},e)):g(e)}function j(a,b){var c=Math.min(a.length,b.length),d=Math.abs(a.length-b.length),e=0,f;for(f=0;f<c;f++)~~a[f]!==~~b[f]&&e++;return e+d}function k(a,b){var d,e=a.match(A),f=[],g=99,k,l,m;for(k=0;k<b.length;k++)l=i(a,b[k]),m=j(e,h(new c(l),b[k]).match(A)),m<g&&(g=m,d=l);return d}function l(b){var c="YYYY-MM-DDT",d;if(B.exec(b)){for(d=0;d<3;d++)if(D[d][1].exec(b)){c+=D[d][0];break}return i(b,c+"Z")}return new a(b)}function m(a,b,c){var d=p.relativeTime[a];return typeof d=="function"?d(b||1,!!c,a):d.replace(/%d/i,b||1)}function n(a,b){var c=q(Math.abs(a)/1e3),d=q(c/60),e=q(d/60),f=q(e/24),g=q(f/365),h=c<45&&["s",c]||d===1&&["m"]||d<45&&["mm",d]||e===1&&["h"]||e<22&&["hh",e]||f===1&&["d"]||f<=25&&["dd",f]||f<=45&&["M"]||f<345&&["MM",q(f/30)]||g===1&&["y"]||["yy",g];return h[2]=b,m.apply({},h)}function o(a,b){p.fn[a]=function(a){var c=this._isUTC?"UTC":"";return a!=null?(this._d["set"+c+b](a),this):this._d["get"+c+b]()}}var p,q=Math.round,r={},s=typeof module!="undefined",t="months|monthsShort|monthsParse|weekdays|weekdaysShort|longDateFormat|calendar|relativeTime|ordinal|meridiem".split("|"),u,v=/^\/?Date\((\-?\d+)/i,w=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|dddd?|do?|w[o|w]?|YYYY|YY|a|A|hh?|HH?|mm?|ss?|zz?|ZZ?|LT|LL?L?L?)/g,x=/[^A-Z]/g,y=/\([A-Za-z ]+\)|:[0-9]{2} [A-Z]{3} /g,z=/(\\)?(MM?M?M?|dd?d?d|DD?D?D?|YYYY|YY|a|A|hh?|HH?|mm?|ss?|ZZ?|T)/g,A=/(\\)?([0-9]+|([a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+|([\+\-]\d\d:?\d\d))/gi,B=/\d{4}.\d\d.\d\d(T(\d\d(.\d\d(.\d\d)?)?)?([\+\-]\d\d:?\d\d)?)?/,C="YYYY-MM-DDTHH:mm:ssZ",D=[["HH:mm:ss",/T\d\d:\d\d:\d\d/],["HH:mm",/T\d\d:\d\d/],["HH",/T\d\d/]],E=/([\+\-]|\d\d)/gi,F="1.5.0",G="Month|Date|Hours|Minutes|Seconds|Milliseconds".split("|");p=function(d,e){if(d===null||d==="")return null;var h,j;return d&&d._d instanceof a?h=new a(+d._d):e?f(e)?h=k(d,e):h=i(d,e):(j=v.exec(d),h=d===b?new a:j?new a(+j[1]):d instanceof a?d:f(d)?g(d):typeof d=="string"?l(d):new a(d)),new c(h)},p.utc=function(b,d){return f(b)?new c(new a(a.UTC.apply({},b)),!0):d&&b?p(b+" 0",d+" Z").utc():p(b).utc()},p.humanizeDuration=function(a,b,c){var d=+a,e=p.relativeTime,f;switch(b){case"seconds":d*=1e3;break;case"minutes":d*=6e4;break;case"hours":d*=36e5;break;case"days":d*=864e5;break;case"weeks":d*=6048e5;break;case"months":d*=2592e6;break;case"years":d*=31536e6;break;default:c=!!b}return f=n(d,!c),c?(d<=0?e.past:e.future).replace(/%s/i,f):f},p.version=F,p.defaultFormat=C,p.lang=function(a,b){var c,d,e,f=[];if(b){for(c=0;c<12;c++)f[c]=new RegExp("^"+b.months[c]+"|^"+b.monthsShort[c].replace(".",""),"i");b.monthsParse=b.monthsParse||f,r[a]=b}if(r[a])for(c=0;c<t.length;c++)d=t[c],p[d]=r[a][d]||p[d];else s&&(e=require("./lang/"+a),p.lang(a,e))},p.lang("en",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},meridiem:{AM:"AM",am:"am",PM:"PM",pm:"pm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinal:function(a){var b=a%10;return~~(a%100/10)===1?"th":b===1?"st":b===2?"nd":b===3?"rd":"th"}}),p.isMoment=function(a){return a instanceof c},p.fn=c.prototype={clone:function(){return p(this)},valueOf:function(){return+this._d},"native":function(){return this._d},toString:function(){return this._d.toString()},toDate:function(){return this._d},utc:function(){return this._isUTC=!0,this},local:function(){return this._isUTC=!1,this},format:function(a){return h(this,a?a:p.defaultFormat)},add:function(a,b){return this._d=e(this._d,a,1,b),this},subtract:function(a,b){return this._d=e(this._d,a,-1,b),this},diff:function(a,b,c){var d=p(a),e=(this.zone()-d.zone())*6e4,f=this._d-d._d-e,g=this.year()-d.year(),h=this.month()-d.month(),i=this.date()-d.date(),j;return b==="months"?j=g*12+h+i/30:b==="years"?j=g+h/12:j=b==="seconds"?f/1e3:b==="minutes"?f/6e4:b==="hours"?f/36e5:b==="days"?f/864e5:b==="weeks"?f/6048e5:f,c?j:q(j)},from:function(a,b){return p.humanizeDuration(this.diff(a),!b)},fromNow:function(a){return this.from(p(),a)},calendar:function(){var a=this.diff(p().sod(),"days",!0),b=p.calendar,c=b.sameElse,d=a<-6?c:a<-1?b.lastWeek:a<0?b.lastDay:a<1?b.sameDay:a<2?b.nextDay:a<7?b.nextWeek:c;return this.format(typeof d=="function"?d.apply(this):d)},isLeapYear:function(){var a=this.year();return a%4===0&&a%100!==0||a%400===0},isDST:function(){return this.zone()<p([this.year()]).zone()||this.zone()<p([this.year(),5]).zone()},day:function(a){var b=this._d.getDay();return a==null?b:this.add({d:a-b})},sod:function(){return this.clone().hours(0).minutes(0).seconds(0).milliseconds(0)},eod:function(){return this.sod().add({d:1,ms:-1})},zone:function(){return this._isUTC?0:this._d.getTimezoneOffset()},daysInMonth:function(){return this.clone().month(this.month()+1).date(0).date()}};for(u=0;u<G.length;u++)o(G[u].toLowerCase(),G[u]);o("year","FullYear"),s&&(module.exports=p),typeof window!="undefined"&&(window.moment=p),typeof define=="function"&&define.amd&&define("moment",[],function(){return p})}(Date);var JSON;JSON||(JSON={}),function(){function f(a){return a<10?"0"+a:a}function quote(a){return escapable.lastIndex=0,escapable.test(a)?'"'+a.replace(escapable,function(a){var b=meta[a];return typeof b=="string"?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function str(a,b){var c,d,e,f,g=gap,h,i=b[a];i&&typeof i=="object"&&typeof i.toJSON=="function"&&(i=i.toJSON(a)),typeof rep=="function"&&(i=rep.call(b,a,i));switch(typeof i){case"string":return quote(i);case"number":return isFinite(i)?String(i):"null";case"boolean":case"null":return String(i);case"object":if(!i)return"null";gap+=indent,h=[];if(Object.prototype.toString.apply(i)==="[object Array]"){f=i.length;for(c=0;c<f;c+=1)h[c]=str(c,i)||"null";return e=h.length===0?"[]":gap?"[\n"+gap+h.join(",\n"+gap)+"\n"+g+"]":"["+h.join(",")+"]",gap=g,e}if(rep&&typeof rep=="object"){f=rep.length;for(c=0;c<f;c+=1)typeof rep[c]=="string"&&(d=rep[c],e=str(d,i),e&&h.push(quote(d)+(gap?": ":":")+e))}else for(d in i)Object.prototype.hasOwnProperty.call(i,d)&&(e=str(d,i),e&&h.push(quote(d)+(gap?": ":":")+e));return e=h.length===0?"{}":gap?"{\n"+gap+h.join(",\n"+gap)+"\n"+g+"}":"{"+h.join(",")+"}",gap=g,e}}"use strict",typeof Date.prototype.toJSON!="function"&&(Date.prototype.toJSON=function(a){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(a){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;typeof JSON.stringify!="function"&&(JSON.stringify=function(a,b,c){var d;gap="",indent="";if(typeof c=="number")for(d=0;d<c;d+=1)indent+=" ";else typeof c=="string"&&(indent=c);rep=b;if(!b||typeof b=="function"||typeof b=="object"&&typeof b.length=="number")return str("",{"":a});throw new Error("JSON.stringify")}),typeof JSON.parse!="function"&&(JSON.parse=function(text,reviver){function walk(a,b){var c,d,e=a[b];if(e&&typeof e=="object")for(c in e)Object.prototype.hasOwnProperty.call(e,c)&&(d=walk(e,c),d!==undefined?e[c]=d:delete e[c]);return reviver.call(a,b,e)}var j;text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),typeof reviver=="function"?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}();var Base64={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(a){var b="",c,d,e,f,g,h,i,j=0;a=Base64._utf8_encode(a);while(j<a.length)c=a.charCodeAt(j++),d=a.charCodeAt(j++),e=a.charCodeAt(j++),f=c>>2,g=(c&3)<<4|d>>4,h=(d&15)<<2|e>>6,i=e&63,isNaN(d)?h=i=64:isNaN(e)&&(i=64),b=b+this._keyStr.charAt(f)+this._keyStr.charAt(g)+this._keyStr.charAt(h)+this._keyStr.charAt(i);return b},decode:function(a){var b="",c,d,e,f,g,h,i,j=0;a=a.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(j<a.length)f=this._keyStr.indexOf(a.charAt(j++)),g=this._keyStr.indexOf(a.charAt(j++)),h=this._keyStr.indexOf(a.charAt(j++)),i=this._keyStr.indexOf(a.charAt(j++)),c=f<<2|g>>4,d=(g&15)<<4|h>>2,e=(h&3)<<6|i,b+=String.fromCharCode(c),h!=64&&(b+=String.fromCharCode(d)),i!=64&&(b+=String.fromCharCode(e));return Base64._utf8_decode(b)},_utf8_encode:function(a){a=a.replace(/\r\n/g,"\n");var b="";for(var c=0;c<a.length;c++){var d=a.charCodeAt(c);d<128?b+=String.fromCharCode(d):d>127&&d<2048?(b+=String.fromCharCode(d>>6|192),b+=String.fromCharCode(d&63|128)):(b+=String.fromCharCode(d>>12|224),b+=String.fromCharCode(d>>6&63|128),b+=String.fromCharCode(d&63|128))}return b},_utf8_decode:function(a){var b="",c=0,d=c1=c2=0;while(c<a.length)d=a.charCodeAt(c),d<128?(b+=String.fromCharCode(d),c++):d>191&&d<224?(c2=a.charCodeAt(c+1),b+=String.fromCharCode((d&31)<<6|c2&63),c+=2):(c2=a.charCodeAt(c+1),c3=a.charCodeAt(c+2),b+=String.fromCharCode((d&15)<<12|(c2&63)<<6|c3&63),c+=3);return b}};(function(a,b,c){function d(a,c){var d=b.createElement(a||"div"),e;for(e in c)d[e]=c[e];return d}function e(a){for(var b=1,c=arguments.length;b<c;b++)a.appendChild(arguments[b]);return a}function f(a,b,c,d){var e=["opacity",b,~~(a*100),c,d].join("-"),f=.01+c/d*100,g=Math.max(1-(1-a)/b*(100-f),a),h=m.substring(0,m.indexOf("Animation")).toLowerCase(),i=h&&"-"+h+"-"||"";return l[e]||(n.insertRule("@"+i+"keyframes "+e+"{"+"0%{opacity:"+g+"}"+f+"%{opacity:"+a+"}"+(f+.01)+"%{opacity:1}"+(f+b)%100+"%{opacity:"+a+"}"+"100%{opacity:"+g+"}"+"}",0),l[e]=1),e}function g(a,b){var d=a.style,e,f;if(d[b]!==c)return b;b=b.charAt(0).toUpperCase()+b.slice(1);for(f=0;f<k.length;f++){e=k[f]+b;if(d[e]!==c)return e}}function h(a,b){for(var c in b)a.style[g(a,c)||c]=b[c];return a}function i(a){for(var b=1;b<arguments.length;b++){var d=arguments[b];for(var e in d)a[e]===c&&(a[e]=d[e])}return a}function j(a){var b={x:a.offsetLeft,y:a.offsetTop};while(a=a.offsetParent)b.x+=a.offsetLeft,b.y+=a.offsetTop;return b}var k=["webkit","Moz","ms","O"],l={},m,n=function(){var a=d("style");return e(b.getElementsByTagName("head")[0],a),a.sheet||a.styleSheet}(),o={lines:12,length:7,width:5,radius:10,rotate:0,color:"#000",speed:1,trail:100,opacity:.25,fps:20,zIndex:2e9,className:"spinner",top:"auto",left:"auto"},p=function q(a){if(!this.spin)return new q(a);this.opts=i(a||{},q.defaults,o)};p.defaults={},i(p.prototype,{spin:function(a){this.stop();var b=this,c=b.opts,e=b.el=h(d(0,{className:c.className}),{position:"relative",zIndex:c.zIndex}),f=c.radius+c.length+c.width,g,i;a&&(a.insertBefore(e,a.firstChild||null),i=j(a),g=j(e),h(e,{left:(c.left=="auto"?i.x-g.x+(a.offsetWidth>>1):c.left+f)+"px",top:(c.top=="auto"?i.y-g.y+(a.offsetHeight>>1):c.top+f)+"px"})),e.setAttribute("aria-role","progressbar"),b.lines(e,b.opts);if(!m){var k=0,l=c.fps,n=l/c.speed,o=(1-c.opacity)/(n*c.trail/100),p=n/c.lines;!function q(){k++;for(var a=c.lines;a;a--){var d=Math.max(1-(k+a*p)%n*o,c.opacity);b.opacity(e,c.lines-a,d,c)}b.timeout=b.el&&setTimeout(q,~~(1e3/l))}()}return b},stop:function(){var a=this.el;return a&&(clearTimeout(this.timeout),a.parentNode&&a.parentNode.removeChild(a),this.el=c),this},lines:function(a,b){function c(a,c){return h(d(),{position:"absolute",width:b.length+b.width+"px",height:b.width+"px",background:a,boxShadow:c,transformOrigin:"left",transform:"rotate("+~~(360/b.lines*g+b.rotate)+"deg) translate("+b.radius+"px"+",0)",borderRadius:(b.width>>1)+"px"})}var g=0,i;for(;g<b.lines;g++)i=h(d(),{position:"absolute",top:1+~(b.width/2)+"px",transform:b.hwaccel?"translate3d(0,0,0)":"",opacity:b.opacity,animation:m&&f(b.opacity,b.trail,g,b.lines)+" "+1/b.speed+"s linear infinite"}),b.shadow&&e(i,h(c("#000","0 0 4px #000"),{top:"2px"})),e(a,e(i,c(b.color,"0 0 1px rgba(0,0,0,.1)")));return a},opacity:function(a,b,c){b<a.childNodes.length&&(a.childNodes[b].style.opacity=c)}}),!function(){function a(a,b){return d("<"+a+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',b)}var b=h(d("group"),{behavior:"url(#default#VML)"});!g(b,"transform")&&b.adj?(n.addRule(".spin-vml","behavior:url(#default#VML)"),p.prototype.lines=function(b,c){function d(){return h(a("group",{coordsize:i+" "+i,coordorigin:-g+" "+ -g}),{width:i,height:i})}function f(b,f,i){e(k,e(h(d(),{rotation:360/c.lines*b+"deg",left:~~f}),e(h(a("roundrect",{arcsize:1}),{width:g,height:c.width,left:c.radius,top:-c.width>>1,filter:i}),a("fill",{color:c.color,opacity:c.opacity}),a("stroke",{opacity:0}))))}var g=c.length+c.width,i=2*g,j=-(c.width+c.length)*2+"px",k=h(d(),{position:"absolute",top:j,left:j}),l;if(c.shadow)for(l=1;l<=c.lines;l++)f(l,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(l=1;l<=c.lines;l++)f(l);return e(b,k)},p.prototype.opacity=function(a,b,c,d){var e=a.firstChild;d=d.shadow&&d.lines||0,e&&b+d<e.childNodes.length&&(e=e.childNodes[b+d],e=e&&e.firstChild,e=e&&e.firstChild,e&&(e.opacity=c))}):m=g(b,"animation")}(),a.Spinner=p})(window,document),$.fn.spin=function(a){return this.each(function(){var b=$(this),c=b.data();c.spinner&&(c.spinner.stop(),delete c.spinner),a!==!1&&(c.spinner=(new Spinner($.extend({color:b.css("color")},a))).spin(this))}),this},function(a){"use strict",module.define("core/entry",[jQuery,"core/parser","model/entry"],function(a,b,c){var d=document.location.pathname.replace(/[^\/]*$/,"");b.parse(d,a("body")),a("#data-apache-autoindex").remove();var e=c.get(d);return e.status="h5ai",e.parent&&(e.parent.isParentFolder=!0),e}),module.define("core/event",[amplify],function(a){var b=function(b,c){a.subscribe(b,c)},c=function(b,c){a.unsubscribe(b,c)},d=function(b,c){a.publish(b,c)};return{sub:b,unsub:c,pub:d}}),module.define("core/format",[moment],function(a){var b=/^\s*([\.\d]+)\s*([kmgt]?)b?\s*$/i,c=1e3,d=1e3,e=["B","KB","MB","GB","TB"],f=function(a){var c=b.exec(a),e,f;return c?(e=parseFloat(c[1]),f=c[2].toLowerCase(),f==="k"?e*=d:f==="m"?e*=d*d:f==="g"?e*=d*d*d:f==="t"&&(e*=d*d*d*d),e):null},g=function(a){if(!_.isNumber(a)||a<0)return"";var b=0,f=e.length-1;while(a>=c&&b<f)a/=d,b+=1;return(b<=1?Math.round(a):a.toFixed(1)).toString()+" "+e[b]},h="YYYY-MM-DD HH:mm",i=function(a){h=a},j=function(b,c){try{return a(b,c||h).valueOf()||null}catch(d){}return Date.parse(b).valueOf()||null},k=function(b,c){return!_.isNumber(b)||!b?"":a(b).format(c||h)};return{parseSize:f,formatSize:g,setDefaultDateFormat:i,parseDate:j,formatDate:k}}),module.define("core/parser",[jQuery],function(a){return a("#data-apache-autoindex").length?module.require("parser/apache-autoindex"):a("#data-generic-json").length?module.require("parser/generic-json"):{id:"none",parse:function(){return[]}}}),module.define("core/resource",["core/settings"],function(a){var b=function(){return a.h5aiAbsHref+"php/api.php"},c=function(b,c){return a.h5aiAbsHref+"images/"+b+(c?"":".png")},d=function(b,c){return a.h5aiAbsHref+"icons/"+(c?"48x48":"16x16")+"/"+b+".png"};return{api:b,image:c,icon:d}}),module.define("core/settings",[H5AI_CONFIG],function(a){var b={rootAbsHref:"/",h5aiAbsHref:"/_h5ai/",server:"unknown",mode:"unknown"};return _.extend({},b,a.options)}),module.define("core/types",[H5AI_CONFIG],function(a){var b=/\/$/,c=/^\./,d={},e={},f=function(a){_.each(a,function(a,b){_.each(a,function(a){a=a.toLowerCase(),c.test(a)?d[a]=b:e[a]=b})})},g=function(a){if(b.test(a))return"folder";a=a.toLowerCase();var c=a.lastIndexOf("/"),f=c>=0?a.substr(c+1):a,g=a.lastIndexOf("."),h=g>=0?a.substr(g):a;return e[f]||d[h]||"unknown"};return f(_.extend({},a.types)),{getType:g}}),module.define("core/langs",[H5AI_CONFIG],function(a){var b={lang:"unknown",details:"details",icons:"icons",name:"Name",lastModified:"Last modified",size:"Size",parentDirectory:"Parent Directory",empty:"empty",folders:"folders",files:"files",download:"download",noMatch:"no match",dateFormat:"YYYY-MM-DD HH:mm"},c={},d=function(a){_.each(a,function(a,d){c[d]=_.extend({},b,a)})};return d(_.extend({},a.langs)),c}),module.define("core/store",[amplify],function(a){var b=function(b,c){a.store(b,c)},c=function(b){return a.store(b)};return{put:b,get:c}}),module.define("model/entry",[jQuery,"core/types"],function(a,b){var c=document.domain,d=document.location.pathname.replace(/[^\/]*$/,""),e=/\/$/,f=function(a){a.length>1&&e.test(a)&&(a=a.slice(0,-1));try{a=decodeURI(a)}catch(b){}return a},g=/^\/([^\/]+\/?)$/,h=/^(\/(?:.*\/)*?([^\/]+)\/)([^\/]+\/?)$/,i=function(a){var b;a=a.replace(/\/+/g,"/");if(a==="/")return{parent:null,parentname:null,name:"/"};b=h.exec(a);if(b)return{parent:b[1],parentname:b[2],name:b[3]};b=g.exec(a);if(b)return{parent:"/",parentname:"/",name:b[1]}},j=/^text\/html;h5ai=/,k=function(b,c,d){a.ajax({url:b.absHref,type:c?"GET":"HEAD",complete:function(a){a.status===200&&j.test(a.getResponseHeader("Content-Type"))?(b.status="h5ai",c&&c.parse(b.absHref,a.responseText)):b.status=a.status,d(b)}})},l={},m=function(a){var d=i(a);l[a]=this,this.absHref=a,this.type=b.getType(a),this.label=f(a==="/"?c:d.name),this.time=null,this.size=null,this.parent=null,this.status=null,this.content={},d.parent&&(this.parent=l[d.parent]||new m(d.parent),this.parent.content[this.absHref]=this,_.keys(this.parent.content).length>1&&(this.parent.isContentFetched=!0))},n=function(a,b,c,e,f){a=a||d;var g=l[a]||new m(a);return _.isNumber(b)&&(g.time=b),_.isNumber(c)&&(g.size=c),e&&(g.status=e),f&&(g.isContentFetched=!0),g},o=module.isDefined("ext/folderstatus")?module.require("ext/folderstatus"):{},p=function(a,b){var c=l[a]||new m(a);c.status||!c.isFolder()?b(c):o[a]?(c.status=o[a],b(c)):k(c,null,b)},q=function(a,b,c){var d=l[a]||new m(a);d.isContentFetched?c(d):p(a,function(a){a.isContentFetched=!0,a.status==="h5ai"?k(a,b,c):c(a)})};return _.extend(m.prototype,{isFolder:function(){return e.test(this.absHref)},isCurrentFolder:function(){return this.absHref===d},isDomain:function(){return this.absHref==="/"},isEmpty:function(){return _.keys(this.content).length===0},fetchStatus:function(a){return p(this.absHref,a)},fetchContent:function(a,b){return q(this.absHref,a,b)},getCrumb:function(){var a=this,b=[a];while(a.parent)a=a.parent,b.unshift(a);return b},getSubfolders:function(){return _.sortBy(_.filter(this.content,function(a){return a.isFolder()}),function(a){return a.label.toLowerCase()})},getStats:function(){var a=0,b=0;_.each(this.content,function(c){c.isFolder()?a+=1:b+=1});var c=0,d=this;while(d.parent)c+=1,d=d.parent;return{folders:a,files:b,depth:c}}}),{get:n}}),module.define("parser/apache-autoindex",[jQuery,"core/settings","core/format","model/entry"],function(a,b,c,d){var e=function(b,e){var f=a(e).find("td"),g=f.eq(1).find("a"),h=g.text(),i=c.parseDate(f.eq(2).text(),"DD-MMM-YYYY HH:mm"),j=c.parseSize(f.eq(3).text());return b+=g.attr("href"),h==="Parent Directory"?null:d.get(b,i,j)},f=function(b,c){return _.compact(_.map(a(c).find("td").closest("tr"),function(a){return e(b,a)}))},g=function(b,c){var d="#data-apache-autoindex",e=a(c),g=e.filter(d);return g.length||(g=e.find(d)),f(b,g.find("table"))};return{id:"apache-autoindex",mode:"aai",server:{name:"apache",version:null},parse:g}}),module.define("parser/generic-json",[jQuery,"core/settings","model/entry"],function(a,b,c){var d={id:"generic-json",mode:null,server:{name:null,version:null}},e=function(a,e){return e.hasOwnProperty("customHeader")&&(b.custom.header=e.customHeader),e.hasOwnProperty("customFooter")&&(b.custom.footer=e.customFooter),e.hasOwnProperty("mode")&&(d.mode=e.mode),e.hasOwnProperty("server")&&(d.server=e.server),_.map(e.entries,function(a){return c.get(a.absHref,a.time,a.size,a.status,a.content)})},f=function(b,c){return e(b,JSON.parse(a.trim(c)||"{}"))},g=function(b,c){var d="#data-generic-json",e=a(c),g=e.filter(d);return g.length||(g=e.find(d)),f(b,g.text())};return d.parse=g,d}),module.define("view/extended",[jQuery,"core/settings","core/resource","core/format","core/event","core/entry"],function(a,b,c,d,e,f){var g={modes:["details","icons"],setParentFolderLabels:!1},h=_.extend({},g,b.view),i='<li class="entry"><a><span class="icon small"><img /></span><span class="icon big"><img /></span><span class="label" /><span class="date" /><span class="size" /></a></li>',j='<span class="hint"></span>',k='<ul><li class="header"><a class="icon"></a><a class="label" href="#"><span class="l10n-name"></span></a><a class="date" href="#"><span class="l10n-lastModified"></span></a><a class="size" href="#"><span class="l10n-size"></span></a></li></ul>',l='<div class="empty l10n-empty">empty</div>',m=function(b){if(b.$extended&&b.status&&b.$extended.data("status")===b.status)return b.$extended;var e=a(i),f=e.find("a"),g=e.find(".icon.small img"),k=e.find(".icon.big img"),l=e.find(".label"),m=e.find(".date"),n=e.find(".size");return e.addClass(b.isFolder()?"folder":"file").data("entry",b).data("status",b.status),f.attr("href",b.absHref),g.attr("src",c.icon(b.type)).attr("alt",b.type),k.attr("src",c.icon(b.type,!0)).attr("alt",b.type),l.text(b.label),m.data("time",b.time).text(d.formatDate(b.time)),n.data("bytes",b.size).text(d.formatSize(b.size)),b.isFolder()&&_.isNumber(b.status)&&(b.status===200?(e.addClass("page"),g.attr("src",c.icon("folder-page")),k.attr("src",c.icon("folder-page",!0))):(e.addClass("error"),l.append(a(j).text(" "+b.status+" ")))),b.isParentFolder&&(g.attr("src",c.icon("folder-parent")),k.attr("src",c.icon("folder-parent",!0)),h.setParentFolderLabels||l.addClass("l10n-parentDirectory"),e.addClass("folder-parent")),b.$extended&&b.$extended.replaceWith(e),b.$extended=e,e},n=function(){var b=a(this).closest(".entry").data("entry");e.pub("entry.mouseenter",b)},o=function(){var b=a(this).closest(".entry").data("entry");e.pub("entry.mouseleave",b)},p=function(b){var c=a("#extended"),d=a(k);b.parent&&d.append(m(b.parent)),_.each(b.content,function(a){d.append(m(a)),a.fetchStatus(function(a){m(a)})}),c.append(d),b.isEmpty()&&c.append(a(l)),c.on("mouseenter",".entry a",n).on("mouseleave",".entry a",o)};p(f)}),module.define("view/spacing",[jQuery,"core/settings","core/event"],function(a,b,c){var d={maxWidth:960,top:50,right:"auto",bottom:50,left:"auto"},e=_.extend({},d,b.spacing),f=function(){a("#content").css({"margin-top":e.top+a("#topbar").outerHeight(),"margin-bottom":e.bottom+a("#bottombar").outerHeight()})},g=function(){a("#content").css({"max-width":e.maxWidth,"margin-right":e.right,"margin-left":e.left}),c.sub("ready",f),a(window).on("resize",f)};g()}),module.define("view/viewmode",[jQuery,"core/settings","core/resource","core/store"],function(a,b,c,d){var e={modes:["details","list","icons"],setParentFolderLabels:!1},f=_.extend({},e,b.view),g="h5ai.viewmode",h='<li id="view-[MODE]" class="view"><a href="#"><img src="'+c.image("view-[MODE]")+'" alt="view-[MODE]" />'+'<span class="l10n-[MODE]">[MODE]</span>'+"</a>"+"</li>",i=function(b){var c=a("#extended");b=_.indexOf(f.modes,b)>=0?b:f.modes[0],d.put(g,b),_.each(e.modes,function(d){d===b?(a("#view-"+d).addClass("current"),c.addClass("view-"+d).show()):(a("#view-"+d).removeClass("current"),c.removeClass("view-"+d))})},j=function(){var b=a("#navbar");f.modes=_.intersection(f.modes,e.modes),f.modes.length>1&&_.each(e.modes.reverse(),function(c){_.indexOf(f.modes,c)>=0&&a(h.replace(/\[MODE\]/g,c)).appendTo(b).on("click","a",function(a){i(c),a.preventDefault()})}),i(d.get(g))};j()}),module.define("ext/crumb",[jQuery,"core/settings","core/resource","core/entry"],function(a,b,c,d){var e={enabled:!1},f=_.extend({},e,b.crumb),g='<li class="crumb"><a><img src="'+c.image("crumb")+'" alt=">" />'+"<span />"+"</a>"+"</li>",h='<img class="hint" src="'+c.image("page")+'" alt="has index page" />',i='<span class="hint"></span>',j=function(b){if(b.$crumb&&b.$crumb.data("status")===b.status)return b.$crumb;var d=a(g),e=d.find("a");return d.addClass(b.isFolder()?"folder":"file").data("status",b.status),e.attr("href",b.absHref).find("span").text(b.label).end(),b.isDomain()&&(d.addClass("domain"),e.find("img").attr("src",c.image("home"))),b.isCurrentFolder()&&d.addClass("current"),_.isNumber(b.status)&&(b.status===200?e.append(a(h)):e.append(a(i).text("("+b.status+")"))),b.$crumb&&b.$crumb.replaceWith(d),b.$crumb=d,d},k=function(b){if(!f.enabled)return;var c=b.getCrumb(),d=a("#navbar");_.each(c,function(a){d.append(j(a)),a.fetchStatus(function(a){j(a)})})};k(d)}),module.define("ext/custom",[jQuery,"core/settings"],function(a,b){var c={enabled:!1,header:"_h5ai.header.html",footer:"_h5ai.footer.html"},d=_.extend({},c,b.custom),e=function(){if(!d.enabled)return;_.isString(d.header)&&a.ajax({url:d.header,dataType:"html",success:function(b){a('<div id="content-header">'+b+"</div>").prependTo("#content")}}),_.isString(d.footer)&&a.ajax({url:d.footer,dataType:"html",success:function(b){a('<div id="content-footer">'+b+"</div>").appendTo("#content")}})};e()}),module.define("ext/download",[jQuery,"core/settings","core/resource","core/event"],function(a,b,c,d){var e={enabled:!1,execution:"php",format:"zip"},f=_.extend({},e,b.download),g='<li id="download"><a href="#"><img src="'+c.image("download")+'" alt="download" />'+'<span class="l10n-download">download</span>'+"</a>"+"</li>",h='<div id="download-auth"><input id="download-auth-user" type="text" value="" placeholder="user" /><input id="download-auth-password" type="text" value="" placeholder="password" /></div>',i="",j,k,l,m,n,o=function(){j.addClass("failed"),setTimeout(function(){j.removeClass("failed")},1e3)},p=function(a){j.removeClass("current"),k.attr("src",c.image("download")),a?a.code===0?setTimeout(function(){window.location=c.api()+"?action=getarchive&id="+a.id+"&as=h5ai-selection."+f.format},200):(a.code===401&&(l.css({left:j.offset().left,top:j.offset().top+j.outerHeight()}).show(),m.focus()),o()):o()},q=function(b){j.addClass("current"),k.attr("src",c.image("loading.gif",!0)),a.ajax({url:c.api(),data:{action:"archive",execution:f.execution,format:f.format,hrefs:b},type:"POST",dataType:"json",beforeSend:function(a){var b=m.val(),c=n.val();b&&a.setRequestHeader("Authorization","Basic "+Base64.encode(b+":"+c))},success:function(a){p(a)},error:function(){p()}})},r=function(a){i="",a.length?(i=_.map(a,function(a){return a.absHref}).join(":"),j.appendTo("#navbar").show()):(j.hide(),l.hide())},s=function(){if(!f.enabled)return;j=a(g).find("a").on("click",function(a){a.preventDefault(),l.hide(),q(i)}).end().appendTo("#navbar"),k=j.find("img"),l=a(h).appendTo("body"),m=l.find("#download-auth-user"),n=l.find("#download-auth-password"),d.sub("selection",r)};s()}),module.define("ext/filter",[jQuery,"core/settings","core/resource"],function(a,b,c){var d={enabled:!1},e=_.extend({},d,b.filter),f='<li id="filter"><span class="element"><img src="'+c.image("filter")+'" alt="filter" />'+'<input type="text" value="" placeholder="filter" />'+"</span>"+"</li>",g='<div class="no-match l10n-noMatch">no match</div>',h,i,j,k=function(b){var c=[],d=[],e=200;b?a("#extended .entry").each(function(){var e=a(this).find(".label").text();e.match(b)?c.push(this):d.push(this)}):c=a("#extended .entry"),a(c).length?j.hide():setTimeout(function(){j.show()},e),a(c).fadeIn(e),a(d).fadeOut(e)},l=function(a){var b=i.val();b||a?h.addClass("current"):h.removeClass("current")},m=function(a){return a.replace(/[\-\[\]{}()*+?.,\\$\^|#\s]/g,"\\$&")},n=function(b){return b.substr(0,3)==="re:"?new RegExp(b.substr(3)):(b=a.map(a.trim(b).split(/\s+/),function(a){return m(a)}).join("|"),new RegExp(b))},o=function(){var a=i.val();a?k(n(a)):k(),l(i.is(":focus"))},p=function(){if(!e.enabled)return;h=a(f),i=h.find("input"),j=a(g).appendTo("#extended"),h.on("click",function(){i.focus()}).appendTo("#navbar"),i.on("focus",function(){l(!0)}).on("blur",function(){l(!1)}).on("keyup",o)};p()}),module.define("ext/folderstatus",[jQuery,"core/settings"],function(a,b){var c={enabled:!1,folders:{}},d=_.extend({},c,b.folderstatus),e=d.enabled?d.folders:c.folders;return e}),module.define("ext/l10n",[jQuery,"core/settings","core/langs","core/format","core/store","core/event"],function(a,b,c,d,e,f){var g={enabled:!0,lang:"en",useBrowserLang:!0},h=_.extend({},g,b.l10n),i='<span id="langSelector"><span class="lang">en</span> - <span class="l10n-lang">english</span><span class="langOptions"> <ul /> </span></span>',j='<li class="langOption" />',k="h5ai.language",l=null,m=function(b,c,f){var g=e.get(k);if(b[g])c=g;else if(f){var h=navigator.language||navigator.browserLanguage;h&&(b[h]?c=h:h.length>2&&b[h.substr(0,2)]&&(c=h.substr(0,2)))}b[c]||(c="en"),l=b[c],l&&(a.each(l,function(b,c){a(".l10n-"+b).text(c)}),a(".lang").text(c),a(".langOption").removeClass("current"),a(".langOption."+c).addClass("current")),d.setDefaultDateFormat(l.dateFormat),a("#extended .entry .date").each(function(){var b=a(this);b.text(d.formatDate(b.data("time")))})},n=function(b){var c=a(i).appendTo("#bottombar .right"),d=c.find(".langOptions"),f=d.find("ul"),g=[];a.each(b,function(a){g.push(a)}),g.sort(),a.each(g,function(c,d){a(j).addClass(d).text(d+" - "+b[d].lang).appendTo(f).click(function(){e.put(k,d),m(b,d,!1)})}),d.append(f).scrollpanel(),c.hover(function(){d.css("top","-"+d.outerHeight()+"px").stop(!0,!0).fadeIn(),d.get(0).updateScrollbar()},function(){d.stop(!0,!0).fadeOut()})},o=function(){if(!h.enabled)return;n(c),f.sub("ready",function(){m(c,h.lang,h.useBrowserLang)})};o()}),module.define("ext/link-hover-states",[jQuery,"core/settings"],function(a,b){var c={enabled:!1},d=_.extend({},c,b["link-hover-states"]),e="a[href^='/']",f=function(b){return a(_.filter(a(e),function(c){return a(c).attr("href")===b}))},g=function(){var b=a(this).attr("href");f(b).addClass("hover")},h=function(){var b=a(this).attr("href");f(b).removeClass("hover")},i=function(){d.enabled&&a("body").on("mouseenter",e,g).on("mouseleave",e,h)};i()}),module.define("ext/mode",[jQuery,"core/settings","core/parser"],function(a,b,c){var d={enabled:!1,display:0},e=_.extend({},d,b.mode),f=function(){if(!e.enabled)return;var b="";c.mode&&(b+=c.mode),e.display>0&&c.server.name&&(b+=(b?" on ":"")+c.server.name),e.display>1&&c.server.version&&(b+=(b?"-":"")+c.server.version),b&&a("#h5ai-reference").append(" ("+b+")")};f()}),module.define("ext/preview-img",[jQuery,"core/settings","core/resource","core/store","core/entry"],function(a,b,c,d,e){var f={enabled:!1,types:["bmp","gif","ico","image","jpg","png","tiff"]},g=_.extend({},f,b["preview-img"]),h='<div id="preview-overlay" class="noSelection"><div id="preview-content"><img id="preview-img" /></div><div id="preview-close" /><div id="preview-prev" /><div id="preview-next" /><div id="preview-bottombar" class="clearfix"><ul id="preview-buttons"><li id="preview-bar-size" class="bar-left bar-label"></li><li id="preview-bar-percent" class="bar-left bar-label"></li><li id="preview-bar-label" class="bar-left bar-label"></li><li id="preview-bar-close" class="bar-right bar-button"><img src="'+c.image("preview/close")+'" /></li>'+'<li id="preview-bar-original" class="bar-right"><a class="bar-button" target="_blank"><img src="'+c.image("preview/image")+'" /></a></li>'+'<li id="preview-bar-fullscreen" class="bar-right bar-button"><img src="'+c.image("preview/fullscreen")+'" /></li>'+'<li id="preview-bar-next" class="bar-right bar-button"><img src="'+c.image("preview/next")+'" /></li>'+'<li id="preview-bar-idx" class="bar-right bar-label"></li>'+'<li id="preview-bar-prev" class="bar-right bar-button"><img src="'+c.image("preview/prev")+'" /></li>'+"</ul>"+"</div>"+"</div>",i="h5ai.preview-img.isFullscreen",j=[],k=0,l=d.get(i)||!1,m=function(){var b=a(window).fracs("viewport"),c=a("#preview-content"),d=a("#preview-img"),e=l?0:20,f=l?0:31;c.css({width:b.width-2*e,height:b.height-2*e-f,left:e,top:e});var g=(c.width()-d.width())/2,h=(c.height()-d.height())/2;d.css({margin:""+h+"px "+g+"px"}),b=d.fracs("rect");if(!b)return;b=b.relativeTo(a("#preview-overlay").fracs("rect")),a("#preview-prev").css({left:b.left,top:b.top,width:b.width/2,height:b.height}),a("#preview-next").css({left:b.left+b.width/2,top:b.top,width:b.width/2,height:b.height})},n=function(b,c){var d=a("<div><img/></div>").css({position:"absolute",overflow:"hidden",width:0,height:0}).appendTo("body"),e=d.find("img").one("load",function(){var a=e.width(),b=e.height();d.remove(),c(a,b)}).attr("src",b)},o=function(b,c){j=b,k=(c+j.length)%j.length;var d=a("#preview-content"),e=a("#preview-img"),f=j[k].absHref,g=setTimeout(function(){d.spin({length:12,width:4,radius:24,color:"#ccc",shadow:!0})},200);a("#preview-overlay").stop(!0,!0).fadeIn(200),a("#preview-bar-idx").text(""+(k+1)+" / "+j.length),n(f,function(b,c){clearTimeout(g),d.spin(!1),e.attr("src",f).show(),m(),a("#preview-bar-label").text(j[k].label),a("#preview-bar-percent").text(""+(100*e.width()/b).toFixed(0)+"%"),a("#preview-bar-size").text(""+b+"x"+c),a("#preview-bar-idx").text(""+(k+1)+" / "+j.length),a("#preview-bar-original").find("a").attr("href",j[k].absHref)})},p=function(b){if(b.$extended&&a.inArray(b.type,g.types)>=0){var c=b.$extended.find("a");c.on("click",function(c){c.preventDefault();var d=_.filter(_.map(a("#extended .entry"),function(b){return a(b).data("entry")}),function(a){return _.indexOf(g.types,a.type)>=0});o(d,_.indexOf(d,b))})}},q=function(b){if(!g.enabled)return;a(h).appendTo("body"),_.each(b.content,p),a("#preview-bar-prev, #preview-prev").on("click",function(a){o(j,k-1)}),a("#preview-prev").on("mouseenter",function(b){a("#preview-bar-prev").addClass("hover")}).on("mouseleave",function(b){a("#preview-bar-prev").removeClass("hover")}),a("#preview-bar-next, #preview-next").on("click",function(a){o(j,k+1)}),a("#preview-next").on("mouseenter",function(b){a("#preview-bar-next").addClass("hover")}).on("mouseleave",function(b){a("#preview-bar-next").removeClass("hover")}),a("#preview-bar-close, #preview-close").on("click",function(){a("#preview-overlay").stop(!0,!0).fadeOut(200)}),a("#preview-close").on("mouseenter",function(b){a("#preview-bar-close").addClass("hover")}).on("mouseleave",function(b){a("#preview-bar-close").removeClass("hover")}),a("#preview-bar-fullscreen").on("click",function(b){l=!l,d.put(i,l),a("#preview-bar-fullscreen").find("img").attr("src",l?c.image("preview/no-fullscreen"):c.image("preview/fullscreen")),m()}),a("#preview-overlay").on("mousedown",function(a){a.stopPropagation()}).on("mousemove",function(b){if(l){var c=a("#preview-overlay").fracs("rect");c.bottom-b.pageY<64?a("#preview-bottombar").fadeIn(200):a("#preview-bottombar").fadeOut(400)}}),a(window).on("resize load",m)};q(e)}),module.define("ext/qrcode",[jQuery,"core/settings","core/event"],function(a,b,c){var d={enabled:!1,size:150},e=_.extend({},d,b.qrcode),f='<div id="context"><div class="qrcode" /></div>',g,h,i=function(a){g.find(".qrcode").empty().qrcode({render:Modernizr.canvas?"canvas":"div",width:e.size,height:e.size,color:"#333",text:"http://"+document.domain+a.absHref})},j=function(a){a.isFolder()||(i(a),clearTimeout(h),g.stop(!0,!0).fadeIn(400))},k=function(a){h=setTimeout(function(){g.stop(!0,!0).fadeOut(400)},200)},l=function(){if(!e.enabled)return;g=a(f).appendTo("body"),c.sub("entry.mouseenter",j),c.sub("entry.mouseleave",k)};l()}),module.define("ext/select",[jQuery,"core/settings","core/event"],function(a,b,c){var d={enabled:!1},e=_.extend({},d,b.select),f=0,g=0,h=0,i=0,j=0,k=0,l=1/3,m=a(document),n=a('<div id="selection-rect"></div>'),o=function(){var b=_.map(a("#extended .entry.selected"),function(b){return a(b).data("entry")});c.pub("selection",b)},p=function(b){h=Math.min(f,b.pageX),i=Math.min(g,b.pageY),j=Math.abs(f-b.pageX),k=Math.abs(g-b.pageY),b.preventDefault(),n.stop(!0,!0).css({left:h,top:i,width:j,height:k});var c=n.fracs("rect");a("#extended .entry").removeClass("selecting").each(function(){var b=a(this),d=b.find("a").fracs("rect"),e=c.intersection(d);e&&!b.hasClass("folder-parent")&&b.addClass("selecting")})},q=function(b){b.preventDefault(),m.off("mousemove",p),a("#extended .entry.selecting.selected").removeClass("selecting").removeClass("selected"),a("#extended .entry.selecting").removeClass("selecting").addClass("selected"),o(),n.stop(!0,!0).animate({left:h+j*.5*l,top:i+k*.5*l,width:j*(1-l),height:k*(1-l),opacity:0},300,function(){n.hide()})},r=function(b){var c=a(document).fracs("viewport");f=b.pageX,g=b.pageY,h=f,i=g,j=0,k=0;if(b.button!==0||h>=c.right||i>=c.bottom)return;b.preventDefault(),a(":focus").blur(),b.ctrlKey||(a("#extended .entry").removeClass("selected"),o()),n.stop(!0,!0).css({left:h,top:i,width:j,height:k,opacity:1}).show(),m.on("mousemove",p).one("mouseup",q)},s=function(a){return a.stopImmediatePropagation(),!1},t=function(a){a.ctrlKey||s(a)},u=function(){if(!e.enabled)return;n.hide().appendTo("body"),m.on("mousedown",".noSelection",s).on("mousedown",".noSelectionUnlessCtrl,input,a",t).on("mousedown",r)};u()}),module.define("ext/sort",[jQuery,"core/settings","core/resource","core/store"],function(a,b,c,d){var e={enabled:!1,order:"na"},f=_.extend({},e,b.sort),g="h5ai.sortorder",h=function(b){var c=a(b);return c.hasClass("folder-parent")?0:c.hasClass("folder")?1:2},i=function(a,b){return function(c,d){var e,f,g;return e=h(c)-h(d),e!==0?e:(f=b(c),g=b(d),f<g?a?1:-1:f>g?a?-1:1:0)}},j=function(b){return a(b).find(".label").text().toLowerCase()},k=function(b){return a(b).find(".date").data("time")},l=function(b){return a(b).find(".size").data("bytes")},m,n,o=function(b){var c=n[b];d.put(g,b),m.removeClass("ascending").removeClass("descending"),c.head.addClass(c.clas),a("#extended .entry").detach().sort(c.fn).appendTo("#extended > ul")},p=function(){if(!f.enabled)return;var b=a('<img src="'+c.image("ascending")+'" class="sort ascending" alt="ascending" />'),e=a('<img src="'+c.image("descending")+'" class="sort descending" alt="descending" />'),h=a("#extended li.header"),p=h.find("a.label"),q=h.find("a.date"),r=h.find("a.size");m=h.find("a.label,a.date,a.size"),n={na:{head:p,clas:"ascending",fn:i(!1,j)},nd:{head:p,clas:"descending",fn:i(!0,j)},da:{head:q,clas:"ascending",fn:i(!1,k)},dd:{head:q,clas:"descending",fn:i(!0,k)},sa:{head:r,clas:"ascending",fn:i(!1,l)},sd:{head:r,clas:"descending",fn:i(!0,l)}},o(d.get(g)||f.order),p.append(b.clone()).append(e.clone()).click(function(a){o("n"+(p.hasClass("ascending")?"d":"a")),a.preventDefault()}),q.prepend(b.clone()).prepend(e.clone()).click(function(a){o("d"+(q.hasClass("ascending")?"d":"a")),a.preventDefault()}),r.prepend(b.clone()).prepend(e.clone()).click(function(a){o("s"+(r.hasClass("ascending")?"d":"a")),a.preventDefault()})};p()}),module.define("ext/statusbar",[jQuery,"core/settings","core/format","core/event","core/entry"],function(a,b,c,d,e){var f={enabled:!1},g=_.extend({},f,b.statusbar),h='<span class="statusbar"><span class="status default"><span class="folderTotal"></span> <span class="l10n-folders">folders</span><span class="sep"></span><span class="fileTotal"></span> <span class="l10n-files">files</span></span><span class="status dynamic"></span></span>',i='<span class="sep"></span>',j,k,l=function(a){a?(k.hide(),j.empty().append(a).show()):(j.empty().hide(),k.show())},m=function(b){if(!g.enabled)return;var e=a(h),f=e.find(".folderTotal"),m=e.find(".fileTotal");k=e.find(".status.default"),j=e.find(".status.dynamic");var n=b.getStats();f.text(n.folders),m.text(n.files),l(),d.sub("statusbar",l),a("#bottombar > .center").append(e),d.sub("entry.mouseenter",function(b){if(b.isParentFolder)return;var d=a("<span/>").append(b.label);_.isNumber(b.time)&&d.append(i).append(c.formatDate(b.time)),_.isNumber(b.size)&&d.append(i).append(c.formatSize(b.size)),l(d)}),d.sub("entry.mouseleave",function(a){l()})};m(e)}),module.define("ext/thumbnails",[jQuery,"core/settings","core/resource","core/entry"],function(a,b,c,d){var e={enabled:!1,img:["bmp","gif","ico","image","jpg","png","tiff"],mov:["video"],doc:["pdf","ps"],delay:1e3},f=_.extend({},e,b.thumbnails),g=function(b,d){a.getJSON(c.api(),d,function(a){a.code===0&&b.addClass("thumb").attr("src",a.absHref)})},h=function(b){if(b.$extended){var c=null;a.inArray(b.type,f.img)>=0?c="img":a.inArray(b.type,f.mov)>=0?c="mov":a.inArray(b.type,f.doc)>=0&&(c="doc"),c&&(g(b.$extended.find(".icon.small img"),{action:"getthumbsrc",type:c,href:b.absHref,mode:"square",width:16,height:16}),g(b.$extended.find(".icon.big img"),{action:"getthumbsrc",type:c,href:b.absHref,mode:"rational",width:100,height:48}))}},i=function(a){if(!f.enabled)return;setTimeout(function(){_.each(a.content,h)},f.delay)};i(d)}),module.define("ext/title",[jQuery,"core/settings","core/entry"],function(a,b,c){var d={enabled:!1},e=_.extend({},d,b.title),f=function(a){if(!e.enabled)return;var b=_.pluck(a.getCrumb(),"label"),c=b.join(" > ");b.length>1&&(c=b[b.length-1]+" - "+c),document.title=c};f(c)}),module.define("ext/tree",[jQuery,"core/settings","core/resource","core/event","core/entry","core/parser"],function(a,b,c,d,e,f){var g={enabled:!1,slide:!0},h=_.extend({},g,b.tree),i='<div class="entry"><span class="indicator none"><img src="'+c.image("tree")+'" />'+"</span>"+"<a>"+'<span class="icon"><img /></span>'+'<span class="label"></span>'+"</a>"+"</span>",j='<span class="hint"></span>',k=function(b){var d=a(i),e=d.find(".indicator"),f=d.find("a"),g=d.find(".icon img"),h=d.find(".label");d.addClass(b.isFolder()?"folder":"file").data("entry",b).data("status",b.status),f.attr("href",b.absHref),g.attr("src",c.icon(b.type)),h.text(b.label);if(b.isFolder()){var l=b.getSubfolders();if(!b.status||b.status==="h5ai"&&!b.isContentFetched||l.length)e.removeClass("none"),!b.status||b.status==="h5ai"&&!b.isContentFetched?e.addClass("unknown"):b.isContentVisible?e.addClass("open"):e.addClass("close");b.isDomain()&&(d.addClass("domain"),g.attr("src",c.icon("folder-home"))),b.isCurrentFolder()&&(d.addClass("current"),g.attr("src",c.icon("folder-open")));if(l.length){var m=a('<ul class="content" />').appendTo(d);_.each(l,function(b){a("<li />").append(k(b)).appendTo(m)}),b.isContentVisible||m.hide()}_.isNumber(b.status)&&(b.status===200?g.attr("src",c.icon("folder-page")):(d.addClass("error"),f.append(a(j).text(b.status))))}return b.$tree&&b.$tree.replaceWith(d),b.$tree=d,d},l=function(b){var c=a("#tree"),d=c.get(0),e=function(a,b,c,e){a.isContentVisible=e,b.removeClass("open close").addClass(e?"open":"close"),d.updateScrollbar(!0),c[e?"slideDown":"slideUp"](function(){d.updateScrollbar()})};return function(){var c=a(this),d=c.closest(".entry"),f=d.data("entry"),g=d.find("> ul.content");c.hasClass("unknown")?f.fetchContent(b,function(a){a.isContentVisible=!1;var b=k(a),c=b.find("> .indicator"),d=b.find("> ul.content");c.hasClass("none")||e(a,c,d,!0)}):c.hasClass("open")?e(f,c,g,!1):c.hasClass("close")&&e(f,c,g,!0)}},m=function(b,c){var d=a("#tree"),e=a("#extended"),f=h.slide&&d.outerWidth()<e.offset().left||b||!e.is(":visible")?0:18-d.outerWidth();c?d.stop().css({left:f}):d.stop().animate({left:f})},n=function(a,b,c){a.isContentVisible=!0,a.fetchContent(b,function(a){a.parent?n(a.parent,b,c):c(a)})},o=function(){var b=a("#tree"),c=b[0],d=a(window).height(),e=a("#topbar").outerHeight(),f=a("#bottombar").outerHeight();b.css({top:e,height:d-e-f-16}),c.updateScrollbar&&c.updateScrollbar()},p=function(b,c){if(!h.enabled)return;var e=a('<div id="tree" />').appendTo("body");n(b,c,function(a){e.append(k(a)).scrollpanel().show(),o(),m(!1,!0),setTimeout(function(){e.get(0).updateScrollbar()},1)}),e.on("click",".indicator",l(c)).on("mouseenter",function(){m(!0)}).on("mouseleave",function(){m()}),d.sub("ready",o),a(window).on("resize",function(){o(),m()})};p(e,f)}),module.define("h5ai-info",[jQuery,"core/resource"],function(a,b){var c=function(b,c){var d=a(b).find(".test-result");c?d.addClass("test-passed").text("yes"):d.addClass("test-failed").text("no")},d=function(b){a(".test").each(function(){c(this,b&&b[a(this).data("id")])})},e=function(){a.ajax({url:b.api(),data:{action:"getchecks"},type:"POST",dataType:"json",success:function(a){d(a)},error:function(){d()}})},f=function(){e()};f()}),module.define("h5ai-main",[jQuery,"core/event","core/settings"],function(a,b,c){b.pub("beforeView"),module.require("view/extended"),module.require("view/viewmode"),module.require("view/spacing"),b.pub("beforeExt"),_.each(module.getIds(/^ext\/.+/),function(a){module.require(a)}),b.pub("ready")}),a(function(){module.require(a("body").attr("id"))})}(jQuery)